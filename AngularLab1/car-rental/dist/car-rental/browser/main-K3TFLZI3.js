var gR=Object.defineProperty,mR=Object.defineProperties;var yR=Object.getOwnPropertyDescriptors;var Cc=Object.getOwnPropertySymbols;var xI=Object.prototype.hasOwnProperty,PI=Object.prototype.propertyIsEnumerable;var NI=(t,e,n)=>e in t?gR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})xI.call(e,n)&&NI(t,n,e[n]);if(Cc)for(var n of Cc(e))PI.call(e,n)&&NI(t,n,e[n]);return t},Ie=(t,e)=>mR(t,yR(e));var OI=(t,e)=>{var n={};for(var r in t)xI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Cc)for(var r of Cc(t))e.indexOf(r)<0&&PI.call(t,r)&&(n[r]=t[r]);return n};var C=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var kI=null;var Oh=1,FI=Symbol("SIGNAL");function he(t){let e=kI;return kI=t,e}var LI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vR(t){if(!(Lh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Oh)){if(!t.producerMustRecompute(t)&&!kh(t)){t.dirty=!1,t.lastCleanEpoch=Oh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Oh}}function VI(t){return t&&(t.nextProducerIndex=0),he(t)}function UI(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Lh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function kh(t){Ac(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(vR(n),r!==n.version))return!0}return!1}function jI(t){if(Ac(t),Lh(t))for(let e=0;e<t.producerNode.length;e++)Fh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fh(t,e){if(_R(t),Ac(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Fh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ac(i),i.producerIndexOfThis[r]=e}}function Lh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ac(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _R(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function IR(){throw new Error}var wR=IR;function BI(t){wR=t}function Y(t){return typeof t=="function"}function Mi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sc=Mi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(s){e=s instanceof Sc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{$I(s)}catch(o){e=e??[],o instanceof Sc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Sc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$I(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hr(n,e)}remove(e){let{_finalizers:n}=this;n&&Hr(n,e),e instanceof t&&e._removeParent(this)}};Oe.EMPTY=(()=>{let t=new Oe;return t.closed=!0,t})();var Vh=Oe.EMPTY;function Rc(t){return t instanceof Oe||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function $I(t){Y(t)?t():t.unsubscribe()}var Kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ni={setTimeout(t,e,...n){let{delegate:r}=Ni;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ni;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Mc(t){Ni.setTimeout(()=>{let{onUnhandledError:e}=Kt;if(e)e(t);else throw t})}function yo(){}var qI=Uh("C",void 0,void 0);function HI(t){return Uh("E",void 0,t)}function zI(t){return Uh("N",t,void 0)}function Uh(t,e,n){return{kind:t,value:e,error:n}}var zr=null;function xi(t){if(Kt.useDeprecatedSynchronousErrorHandling){let e=!zr;if(e&&(zr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zr;if(zr=null,n)throw r}}else t()}function GI(t){Kt.useDeprecatedSynchronousErrorHandling&&zr&&(zr.errorThrown=!0,zr.error=t)}var Gr=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Rc(e)&&e.add(this)):this.destination=TR}static create(e,n,r){return new Pi(e,n,r)}next(e){this.isStopped?Bh(zI(e),this):this._next(e)}error(e){this.isStopped?Bh(HI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bh(qI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ER=Function.prototype.bind;function jh(t,e){return ER.call(t,e)}var $h=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Nc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Nc(r)}else Nc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Nc(n)}}},Pi=class extends Gr{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Kt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jh(e.next,s),error:e.error&&jh(e.error,s),complete:e.complete&&jh(e.complete,s)}):i=e}this.destination=new $h(i)}};function Nc(t){Kt.useDeprecatedSynchronousErrorHandling?GI(t):Mc(t)}function DR(t){throw t}function Bh(t,e){let{onStoppedNotification:n}=Kt;n&&Ni.setTimeout(()=>n(t,e))}var TR={closed:!0,next:yo,error:DR,complete:yo};var Oi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function qh(...t){return Hh(t)}function Hh(t){return t.length===0?wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=CR(n)?n:new Pi(n,r,i);return xi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=WI(r),new r((i,s)=>{let o=new Pi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Oi](){return this}pipe(...n){return Hh(n)(this)}toPromise(n){return n=WI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function WI(t){var e;return(e=t??Kt.Promise)!==null&&e!==void 0?e:Promise}function bR(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function CR(t){return t&&t instanceof Gr||bR(t)&&Rc(t)}function zh(t){return Y(t?.lift)}function le(t){return e=>{if(zh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new Gh(t,e,n,r,i)}var Gh=class extends Gr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ki(){return le((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Fi=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return ki()(this)}};var KI=Mi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new xc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new KI}next(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Vh:(this.currentObservers=null,s.push(n),new Oe(()=>{this.currentObservers=null,Hr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new xc(e,n),t})(),xc=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Vh}};var Qe=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Wh={now(){return(Wh.delegate||Date).now()},delegate:void 0};var Pc=class extends Oe{constructor(e,n){super()}schedule(e,n=0){return this}};var vo={setInterval(t,e,...n){let{delegate:r}=vo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=vo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Li=class extends Pc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return vo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&vo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Vi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Vi.now=Wh.now;var Ui=class extends Vi{constructor(e,n=Vi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Kh=new Ui(Li);var Oc=class extends Li{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var kc=class extends Ui{};var Qh=new kc(Oc);var Et=new ue(t=>t.complete());function QI(t){return t&&Y(t.schedule)}function YI(t){return t[t.length-1]}function Fc(t){return Y(YI(t))?t.pop():void 0}function sr(t){return QI(YI(t))?t.pop():void 0}function Yh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function JI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wr(t){return this instanceof Wr?(this.v=t,this):new Wr(t)}function XI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,p)}}function a(I,S){r[I]&&(i[I]=function(N){return new Promise(function(M,F){s.push([I,N,M,F])>1||u(I,N)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(N){m(s[0][3],N)}}function l(I){I.value instanceof Wr?Promise.resolve(I.value.v).then(h,p):m(s[0][2],I)}function h(I){u("next",I)}function p(I){u("throw",I)}function m(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function ew(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JI=="function"?JI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Lc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vc(t){return Y(t?.then)}function Uc(t){return Y(t[Oi])}function jc(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function Bc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $c=AR();function qc(t){return Y(t?.[$c])}function Hc(t){return XI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Wr(n.read());if(i)return yield Wr(void 0);yield yield Wr(r)}}finally{n.releaseLock()}})}function zc(t){return Y(t?.getReader)}function Fe(t){if(t instanceof ue)return t;if(t!=null){if(Uc(t))return SR(t);if(Lc(t))return RR(t);if(Vc(t))return MR(t);if(jc(t))return tw(t);if(qc(t))return NR(t);if(zc(t))return xR(t)}throw Bc(t)}function SR(t){return new ue(e=>{let n=t[Oi]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RR(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MR(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Mc)})}function NR(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tw(t){return new ue(e=>{PR(t,e).catch(n=>e.error(n))})}function xR(t){return tw(Hc(t))}function PR(t,e){var n,r,i,s;return ZI(this,void 0,void 0,function*(){try{for(n=ew(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function or(t,e=0){return le((n,r)=>{n.subscribe(se(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function ar(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nw(t,e){return Fe(t).pipe(ar(e),or(e))}function rw(t,e){return Fe(t).pipe(ar(e),or(e))}function iw(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function sw(t,e){return new ue(n=>{let r;return mt(n,e,()=>{r=t[$c](),mt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Gc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ow(t,e){return Gc(Hc(t),e)}function aw(t,e){if(t!=null){if(Uc(t))return nw(t,e);if(Lc(t))return iw(t,e);if(Vc(t))return rw(t,e);if(jc(t))return Gc(t,e);if(qc(t))return sw(t,e);if(zc(t))return ow(t,e)}throw Bc(t)}function be(t,e){return e?aw(t,e):Fe(t)}function $(...t){let e=sr(t);return be(t,e)}function ji(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Jh(t){return!!t&&(t instanceof ue||Y(t.lift)&&Y(t.subscribe))}var Pn=Mi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return le((n,r)=>{let i=0;n.subscribe(se(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:OR}=Array;function kR(t,e){return OR(e)?t(...e):t(e)}function Wc(t){return ne(e=>kR(t,e))}var{isArray:FR}=Array,{getPrototypeOf:LR,prototype:VR,keys:UR}=Object;function Kc(t){if(t.length===1){let e=t[0];if(FR(e))return{args:e,keys:null};if(jR(e)){let n=UR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function jR(t){return t&&typeof t=="object"&&LR(t)===VR}function Qc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _o(...t){let e=sr(t),n=Fc(t),{args:r,keys:i}=Kc(t);if(r.length===0)return be([],e);let s=new ue(BR(r,e,i?o=>Qc(i,o):wt));return n?s.pipe(Wc(n)):s}function BR(t,e,n=wt){return r=>{cw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)cw(e,()=>{let l=be(t[u],e),h=!1;l.subscribe(se(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function cw(t,e,n){t?mt(n,t,e):e()}function uw(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},I=N=>l<r?S(N):u.push(N),S=N=>{s&&e.next(N),l++;let M=!1;Fe(n(N,h++)).subscribe(se(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let F=u.shift();o?mt(e,o,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(se(e,I,()=>{p=!0,m()})),()=>{a?.()}}function Le(t,e,n=1/0){return Y(e)?Le((r,i)=>ne((s,o)=>e(r,s,i,o))(Fe(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>uw(r,i,t,n)))}function Bi(t=1/0){return Le(wt,t)}function lw(){return Bi(1)}function $i(...t){return lw()(be(t,sr(t)))}function Yc(t){return new ue(e=>{Fe(t()).subscribe(e)})}function Zh(...t){let e=Fc(t),{args:n,keys:r}=Kc(t),i=new ue(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Fe(n[h]).subscribe(se(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Qc(r,a):a),s.complete())}))}});return e?i.pipe(Wc(e)):i}function Dt(t,e){return le((n,r)=>{let i=0;n.subscribe(se(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cr(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(se(n,void 0,void 0,o=>{s=Fe(t(o,cr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dw(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(se(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ur(t,e){return Y(e)?Le(t,e,1):Le(t,1)}function lr(t){return le((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function On(t){return t<=0?()=>Et:le((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xh(t){return ne(()=>t)}function Jc(t=$R){return le((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $R(){return new Pn}function qi(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Qt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,s)=>t(i,s,r)):wt,On(1),n?lr(e):Jc(()=>new Pn))}function Hi(t){return t<=0?()=>Et:le((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ef(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,s)=>t(i,s,r)):wt,Hi(1),n?lr(e):Jc(()=>new Pn))}function tf(t,e){return le(dw(t,e,arguments.length>=2,!0))}function nf(...t){let e=sr(t);return le((n,r)=>{(e?$i(t,n,e):$i(t,n)).subscribe(r)})}function Tt(t,e){return le((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,h=s++;Fe(t(u,h)).subscribe(i=se(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rf(t){return le((e,n)=>{Fe(t).subscribe(se(n,()=>n.complete(),yo)),!n.closed&&e.subscribe(n)})}function ke(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(se(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var Jw="https://g.co/ng/security#xss",U=class extends Error{constructor(e,n){super(Fu(e,n)),this.code=e}};function Fu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Oo(t){return{toString:t}.toString()}var Zc="__parameters__";function qR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Zw(t,e,n){return Oo(()=>{let r=qR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Zc)?u[Zc]:Object.defineProperty(u,Zc,{value:[]})[Zc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ht=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function HR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var zR=De({__forward_ref__:De});function yr(t){return t.__forward_ref__=yr,t.toString=function(){return ft(this())},t}function dt(t){return Xw(t)?t():t}function Xw(t){return typeof t=="function"&&t.hasOwnProperty(zR)&&t.__forward_ref__===yr}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Lu(t){return fw(t,tE)||fw(t,nE)}function eE(t){return Lu(t)!==null}function fw(t,e){return t.hasOwnProperty(e)?t[e]:null}function GR(t){let e=t&&(t[tE]||t[nE]);return e||null}function pw(t){return t&&(t.hasOwnProperty(gw)||t.hasOwnProperty(WR))?t[gw]:null}var tE=De({\u0275prov:De}),gw=De({\u0275inj:De}),nE=De({ngInjectableDef:De}),WR=De({ngInjectorDef:De}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rE(t){return t&&!!t.\u0275providers}var KR=De({\u0275cmp:De}),QR=De({\u0275dir:De}),YR=De({\u0275pipe:De}),JR=De({\u0275mod:De}),lu=De({\u0275fac:De}),wo=De({__NG_ELEMENT_ID__:De}),mw=De({__NG_ENV_ID__:De});function kn(t){return typeof t=="string"?t:t==null?"":String(t)}function ZR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():kn(t)}function XR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function lp(t,e){throw new U(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),wf;function iE(){return wf}function yt(t){let e=wf;return wf=t,e}function sE(t,e,n){let r=Lu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;lp(t,"Injector")}var eM={},Do=eM,Ef="__NG_DI_FLAG__",du="ngTempTokenPath",tM="ngTokenPath",nM=/\n/gm,rM="\u0275",yw="__source",Qi;function iM(){return Qi}function dr(t){let e=Qi;return Qi=t,e}function sM(t,e=re.Default){if(Qi===void 0)throw new U(-203,!1);return Qi===null?sE(t,void 0,e):Qi.get(t,e&re.Optional?null:void 0,e)}function q(t,e=re.Default){return(iE()||sM)(dt(t),e)}function x(t,e=re.Default){return q(t,Vu(e))}function Vu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Df(t){let e=[];for(let n=0;n<t.length;n++){let r=dt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let a=r[o],u=oM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function oE(t,e){return t[Ef]=e,t.prototype[Ef]=e,t}function oM(t){return t[Ef]}function aM(t,e,n,r){let i=t[du];throw e[yw]&&i.unshift(e[yw]),t.message=cM(`
`+t.message,i,n,r),t[tM]=i,t[du]=null,t}function cM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rM?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nM,`
  `)}`}var jt=oE(Zw("Optional"),8);var dp=oE(Zw("SkipSelf"),4);function Qr(t,e){let n=t.hasOwnProperty(lu);return n?t[lu]:null}function hp(t,e){t.forEach(n=>Array.isArray(n)?hp(n,e):e(n))}function aE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function lM(t,e,n){let r=ko(t,e);return r>=0?t[r|1]=n:(r=~r,uM(t,r,e,n)),r}function sf(t,e){let n=ko(t,e);if(n>=0)return t[n|1]}function ko(t,e){return dM(t,e,1)}function dM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ji={},bt=[],Yr=new j(""),cE=new j("",-1),uE=new j(""),fu=class{get(e,n=Do){if(n===Do){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}},lE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lE||{}),ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ln||{}),Ye=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ye||{});function hM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Tf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];fM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function dE(t){return t===3||t===4||t===6}function fM(t){return t.charCodeAt(0)===64}function To(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vw(t,n,i,null,e[++r]):vw(t,n,i,null,null))}}return t}function vw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var hE="ng-template";function pM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(fp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function fp(t){return t.type===4&&t.value!==hE}function gM(t,e,n){let r=t.type===4&&!n?hE:t.value;return e===r}function mM(t,e,n){let r=4,i=t.attrs,s=i!==null?_M(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Yt(r)&&!Yt(u))return!1;if(o&&Yt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!gM(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;o=!0}}else if(r&8){if(i===null||!pM(t,i,u,n)){if(Yt(r))return!1;o=!0}}else{let l=e[++a],h=yM(u,i,fp(t),n);if(h===-1){if(Yt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function yM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return IM(e,t)}function vM(t,e,n=!1){for(let r=0;r<e.length;r++)if(mM(t,e[r],n))return!0;return!1}function _M(t){for(let e=0;e<t.length;e++){let n=t[e];if(dE(n))return e}return t.length}function IM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function _w(t,e){return t?":not("+e.trim()+")":e}function wM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=_w(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=_w(s,i)),e}function EM(t){return t.map(wM).join(",")}function DM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function Bt(t){return Oo(()=>{let e=vE(t),n=Ie(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ln.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""});_E(n);let r=t.dependencies;return n.directiveDefs=ww(r,!1),n.pipeDefs=ww(r,!0),n.id=CM(n),n})}function TM(t){return fr(t)||pE(t)}function bM(t){return t!==null}function He(t){return Oo(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Iw(t,e){if(t==null)return Ji;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ye.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ye.None?[r,a]:r,e[s]=o):n[s]=r}return n}function $e(t){return Oo(()=>{let e=vE(t);return _E(e),e})}function fE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function fr(t){return t[KR]||null}function pE(t){return t[QR]||null}function gE(t){return t[YR]||null}function mE(t){let e=fr(t)||pE(t)||gE(t);return e!==null?e.standalone:!1}function yE(t,e){let n=t[JR]||null;if(!n&&e===!0)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function vE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ji,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Iw(t.inputs,e),outputs:Iw(t.outputs),debugInfo:null}}function _E(t){t.features?.forEach(e=>e(t))}function ww(t,e){if(!t)return null;let n=e?gE:TM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bM)}function CM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jn(t){return{\u0275providers:t}}function AM(...t){return{\u0275providers:IE(!0,t),\u0275fromNgModule:!0}}function IE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return hp(e,o=>{let a=o;bf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&wE(i,s),n}function wE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];pp(i,s=>{e(s,r)})}}function bf(t,e,n,r){if(t=dt(t),!t)return!1;let i=null,s=pw(t),o=!s&&fr(t);if(!s&&!o){let u=t.ngModule;if(s=pw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)bf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{hp(s.imports,h=>{bf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&wE(l,e)}if(!a){let l=Qr(i)||(()=>new i);e({provide:i,useFactory:l,deps:bt},i),e({provide:uE,useValue:i,multi:!0},i),e({provide:Yr,useValue:()=>q(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;pp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function pp(t,e){for(let n of t)rE(n)&&(n=n.\u0275providers),Array.isArray(n)?pp(n,e):e(n)}var SM=De({provide:String,useValue:De});function EE(t){return t!==null&&typeof t=="object"&&SM in t}function RM(t){return!!(t&&t.useExisting)}function MM(t){return!!(t&&t.useFactory)}function Zi(t){return typeof t=="function"}function NM(t){return!!t.useClass}var Uu=new j(""),su={},xM={},of;function gp(){return of===void 0&&(of=new fu),of}var vt=class{},bo=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Af(e,o=>this.processProvider(o)),this.records.set(cE,zi(void 0,this)),i.has("environment")&&this.records.set(vt,zi(void 0,this));let s=this.records.get(Uu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uE,bt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=dr(this),r=yt(void 0),i;try{return e()}finally{dr(n),yt(r)}}get(e,n=Do,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mw))return e[mw](this);r=Vu(r);let i,s=dr(this),o=yt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=LM(e)&&Lu(e);l&&this.injectableDefInScope(l)?u=zi(Cf(e),su):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&re.Self?gp():this.parent;return n=r&re.Optional&&n===Do?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[du]=a[du]||[]).unshift(ft(e)),s)throw a;return aM(a,e,"R3InjectorError",this.source)}else throw a}finally{yt(o),dr(s)}}resolveInjectorInitializers(){let e=he(null),n=dr(this),r=yt(void 0),i;try{let s=this.get(Yr,bt,re.Self);for(let o of s)o()}finally{dr(n),yt(r),he(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=dt(e);let n=Zi(e)?e:dt(e&&e.provide),r=OM(e);if(!Zi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,su,!0),i.factory=()=>Df(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=he(null);try{return n.value===su&&(n.value=xM,n.value=n.factory()),typeof n.value=="object"&&n.value&&FM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=dt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cf(t){let e=Lu(t),n=e!==null?e.factory:Qr(t);if(n!==null)return n;if(t instanceof j)throw new U(204,!1);if(t instanceof Function)return PM(t);throw new U(204,!1)}function PM(t){if(t.length>0)throw new U(204,!1);let n=GR(t);return n!==null?()=>n.factory(t):()=>new t}function OM(t){if(EE(t))return zi(void 0,t.useValue);{let e=DE(t);return zi(e,su)}}function DE(t,e,n){let r;if(Zi(t)){let i=dt(t);return Qr(i)||Cf(i)}else if(EE(t))r=()=>dt(t.useValue);else if(MM(t))r=()=>t.useFactory(...Df(t.deps||[]));else if(RM(t))r=()=>q(dt(t.useExisting));else{let i=dt(t&&(t.useClass||t.provide));if(kM(t))r=()=>new i(...Df(t.deps));else return Qr(i)||Cf(i)}return r}function zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kM(t){return!!t.deps}function FM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LM(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Af(t,e){for(let n of t)Array.isArray(n)?Af(n,e):n&&rE(n)?Af(n.\u0275providers,e):e(n)}function hn(t,e){t instanceof bo&&t.assertNotDestroyed();let n,r=dr(t),i=yt(void 0);try{return e()}finally{dr(r),yt(i)}}function TE(){return iE()!==void 0||iM()!=null}function VM(t){if(!TE())throw new U(-203,!1)}function UM(t){let e=ht.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function jM(t){return typeof t=="function"}var At=0,ie=1,K=2,Je=3,Jt=4,nn=5,Zt=6,Co=7,Xt=8,Xi=9,en=10,Ae=11,Ao=12,Ew=13,is=14,Ut=15,ju=16,Gi=17,es=18,Bu=19,bE=20,hr=21,af=22,Jr=23,it=25,CE=1,So=6,Ln=7,pu=8,gu=9,Ct=10,mp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(mp||{});function Fn(t){return Array.isArray(t)&&typeof t[CE]=="object"}function fn(t){return Array.isArray(t)&&t[CE]===!0}function AE(t){return(t.flags&4)!==0}function Fo(t){return t.componentOffset>-1}function yp(t){return(t.flags&1)===1}function pr(t){return!!t.template}function SE(t){return(t[K]&512)!==0}var Sf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function RE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function vr(){return ME}function ME(t){return t.type.prototype.ngOnChanges&&(t.setInput=$M),BM}vr.ngInherit=!0;function BM(){let t=xE(this),e=t?.current;if(e){let n=t.previous;if(n===Ji)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $M(t,e,n,r,i){let s=this.declaredInputs[r],o=xE(t)||qM(t,{previous:Ji,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Sf(l&&l.currentValue,n,u===Ji),RE(t,e,i,n)}var NE="__ngSimpleChanges__";function xE(t){return t[NE]||null}function qM(t,e){return t[NE]=e}var Dw=null;var cn=function(t,e,n){Dw?.(t,e,n)},HM="svg",zM="math",GM=!1;function WM(){return GM}function tn(t){for(;Array.isArray(t);)t=t[At];return t}function PE(t,e){return tn(e[t])}function St(t,e){return tn(e[t.index])}function OE(t,e){return t.data[e]}function kE(t,e){return t[e]}function _r(t,e){let n=e[t];return Fn(n)?n:n[At]}function vp(t){return(t[K]&128)===128}function KM(t){return fn(t[Je])}function mu(t,e){return e==null?null:t[e]}function FE(t){t[Gi]=0}function QM(t){t[K]&1024||(t[K]|=1024,vp(t)&&Ro(t))}function YM(t,e){for(;t>0;)e=e[is],t--;return e}function _p(t){return!!(t[K]&9216||t[Jr]?.dirty)}function Rf(t){t[en].changeDetectionScheduler?.notify(1),_p(t)?Ro(t):t[K]&64&&(WM()?(t[K]|=1024,Ro(t)):t[en].changeDetectionScheduler?.notify())}function Ro(t){t[en].changeDetectionScheduler?.notify();let e=Mo(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!vp(e)));)e=Mo(e)}function LE(t,e){if((t[K]&256)===256)throw new U(911,!1);t[hr]===null&&(t[hr]=[]),t[hr].push(e)}function JM(t,e){if(t[hr]===null)return;let n=t[hr].indexOf(e);n!==-1&&t[hr].splice(n,1)}function Mo(t){let e=t[Je];return fn(e)?e[Je]:e}var te={lFrame:GE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZM(){return te.lFrame.elementDepthCount}function XM(){te.lFrame.elementDepthCount++}function eN(){te.lFrame.elementDepthCount--}function VE(){return te.bindingsEnabled}function Lo(){return te.skipHydrationRootTNode!==null}function tN(t){return te.skipHydrationRootTNode===t}function nN(t){te.skipHydrationRootTNode=t}function rN(){te.skipHydrationRootTNode=null}function ve(){return te.lFrame.lView}function Rt(){return te.lFrame.tView}function ss(t){return te.lFrame.contextLView=t,t[Xt]}function os(t){return te.lFrame.contextLView=null,t}function Mt(){let t=UE();for(;t!==null&&t.type===64;)t=t.parent;return t}function UE(){return te.lFrame.currentTNode}function iN(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Vo(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function jE(){return te.lFrame.isParent}function sN(){te.lFrame.isParent=!1}function oN(){return te.lFrame.contextLView}function BE(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $E(){return te.lFrame.bindingIndex}function aN(t){return te.lFrame.bindingIndex=t}function Ip(){return te.lFrame.bindingIndex++}function wp(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cN(){return te.lFrame.inI18n}function uN(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mf(e)}function lN(){return te.lFrame.currentDirectiveIndex}function Mf(t){te.lFrame.currentDirectiveIndex=t}function dN(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function qE(t){te.lFrame.currentQueryIndex=t}function hN(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[nn]:null}function HE(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=hN(s),i===null||(s=s[is],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=zE();return r.currentTNode=e,r.lView=t,!0}function Ep(t){let e=zE(),n=t[ie];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zE(){let t=te.lFrame,e=t===null?null:t.child;return e===null?GE(t):e}function GE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function WE(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var KE=WE;function Dp(){let t=WE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fN(t){return(te.lFrame.contextLView=YM(t,te.lFrame.contextLView))[Xt]}function Ir(){return te.lFrame.selectedIndex}function Zr(t){te.lFrame.selectedIndex=t}function Tp(){let t=te.lFrame;return OE(t.tView,t.selectedIndex)}function QE(){return te.lFrame.currentNamespace}var YE=!0;function bp(){return YE}function pn(t){YE=t}function pN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ME(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Cp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ou(t,e,n){JE(t,e,3,n)}function au(t,e,n,r){(t[K]&3)===n&&JE(t,e,n,r)}function cf(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function JE(t,e,n,r){let i=r!==void 0?t[Gi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Gi]+=65536),(a<s||s==-1)&&(gN(t,n,e,u),t[Gi]=(t[Gi]&4294901760)+u+2),u++}function Tw(t,e){cn(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),cn(5,t,e)}}function gN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[K]>>14<t[Gi]>>16&&(t[K]&3)===e&&(t[K]+=16384,Tw(a,s)):Tw(a,s)}var Yi=-1,Xr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function mN(t){return t instanceof Xr}function yN(t){return(t.flags&8)!==0}function vN(t){return(t.flags&16)!==0}function ZE(t){return t!==Yi}function yu(t){return t&32767}function _N(t){return t>>16}function vu(t,e){let n=_N(t),r=e;for(;n>0;)r=r[is],n--;return r}var Nf=!0;function _u(t){let e=Nf;return Nf=t,e}var IN=256,XE=IN-1,eD=5,wN=0,un={};function EN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(wo)&&(r=n[wo]),r==null&&(r=n[wo]=wN++);let i=r&XE,s=1<<i;e.data[t+(i>>eD)]|=s}function Iu(t,e){let n=tD(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,uf(r.data,t),uf(e,null),uf(r.blueprint,null));let i=Ap(t,e),s=t.injectorIndex;if(ZE(i)){let o=yu(i),a=vu(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function uf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ap(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=oD(i),r===null)return Yi;if(n++,i=i[is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yi}function xf(t,e,n){EN(t,e,n)}function DN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(dE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function nD(t,e,n){if(n&re.Optional||t!==void 0)return t;lp(e,"NodeInjector")}function rD(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[Xi],s=yt(void 0);try{return i?i.get(e,r,n&re.Optional):sE(e,r,n&re.Optional)}finally{yt(s)}}return nD(r,e,n)}function iD(t,e,n,r=re.Default,i){if(t!==null){if(e[K]&2048&&!(r&re.Self)){let o=SN(t,e,n,r,un);if(o!==un)return o}let s=sD(t,e,n,r,un);if(s!==un)return s}return rD(e,n,r,i)}function sD(t,e,n,r,i){let s=CN(n);if(typeof s=="function"){if(!HE(e,t,r))return r&re.Host?nD(i,n,r):rD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))lp(n);else return o}finally{KE()}}else if(typeof s=="number"){let o=null,a=tD(t,e),u=Yi,l=r&re.Host?e[Ut][nn]:null;for((a===-1||r&re.SkipSelf)&&(u=a===-1?Ap(t,e):e[a+8],u===Yi||!Cw(r,!1)?a=-1:(o=e[ie],a=yu(u),e=vu(u,e)));a!==-1;){let h=e[ie];if(bw(s,a,h.data)){let p=TN(a,e,n,o,r,l);if(p!==un)return p}u=e[a+8],u!==Yi&&Cw(r,e[ie].data[a+8]===l)&&bw(s,a,e)?(o=h,a=yu(u),e=vu(u,e)):a=-1}}return i}function TN(t,e,n,r,i,s){let o=e[ie],a=o.data[t+8],u=r==null?Fo(a)&&Nf:r!=o&&(a.type&3)!==0,l=i&re.Host&&s===a,h=bN(a,o,n,u,l);return h!==null?ts(e,o,h,a):un}function bN(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let I=p;I<m;I++){let S=o[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=o[u];if(I&&pr(I)&&I.type===n)return u}return null}function ts(t,e,n,r){let i=t[n],s=e.data;if(mN(i)){let o=i;o.resolving&&XR(ZR(s[n]));let a=_u(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?yt(o.injectImpl):null,h=HE(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&pN(n,s[n],e)}finally{l!==null&&yt(l),_u(a),o.resolving=!1,KE()}}return i}function CN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(wo)?t[wo]:void 0;return typeof e=="number"?e>=0?e&XE:AN:e}function bw(t,e,n){let r=1<<t;return!!(n[e+(t>>eD)]&r)}function Cw(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var Kr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iD(this._tNode,this._lView,e,Vu(r),n)}};function AN(){return new Kr(Mt(),ve())}function ri(t){return Oo(()=>{let e=t.prototype.constructor,n=e[lu]||Pf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[lu]||Pf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Pf(t){return Xw(t)?()=>{let e=Pf(dt(t));return e&&e()}:Qr(t)}function SN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[K]&2048&&!(o[K]&512);){let a=sD(s,o,n,r|re.Self,un);if(a!==un)return a;let u=s.parent;if(!u){let l=o[bE];if(l){let h=l.get(n,un,r);if(h!==un)return h}u=oD(o),o=o[is]}s=u}return i}function oD(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[nn]:null}function Sp(t){return DN(Mt(),t)}function Aw(t,e=null,n=null,r){let i=aD(t,e,n,r);return i.resolveInjectorInitializers(),i}function aD(t,e=null,n=null,r,i=new Set){let s=[n||bt,AM(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new bo(s,e||gp(),r||null,i)}var st=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Aw({name:""},i,r,"");{let s=r.name??"";return Aw({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Do,e.NULL=new fu,e.\u0275prov=B({token:e,providedIn:"any",factory:()=>q(cE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var RN="ngOriginalError";function lf(t){return t[RN]}var dn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lf(e);for(;n&&lf(n);)n=lf(n);return n||null}},cD=new j("",{providedIn:"root",factory:()=>x(dn).handleError.bind(void 0)}),Rp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Of=class extends Rp{constructor(e){super(),this._lView=e}onDestroy(e){return LE(this._lView,e),()=>JM(this._lView,e)}};function MN(){return new Of(ve())}function NN(){return $u(Mt(),ve())}function $u(t,e){return new Bn(St(t,e))}var Bn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=NN;let t=e;return t})();var kf=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,TE()&&(this.destroyRef=x(Rp,{optional:!0})??void 0)}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=df(s),i&&(i=df(i)),o&&(o=df(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Oe&&e.add(a),a}};function df(t){return e=>{setTimeout(t,void 0,e)}}var Ve=kf;var xN="ngSkipHydration",PN="ngskiphydration";function uD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===PN)return!0}return!1}function lD(t){return t.hasAttribute(xN)}function wu(t){return(t.flags&128)===128}function ON(t){if(wu(t))return!0;let e=t.parent;for(;e;){if(wu(t)||uD(e))return!0;e=e.parent}return!1}var dD=new Map,kN=0;function FN(){return kN++}function LN(t){dD.set(t[Bu],t)}function VN(t){dD.delete(t[Bu])}var Sw="__ngContext__";function ei(t,e){Fn(e)?(t[Sw]=e[Bu],LN(e)):t[Sw]=e}function hD(t){return pD(t[Ao])}function fD(t){return pD(t[Jt])}function pD(t){for(;t!==null&&!fn(t);)t=t[Jt];return t}var Ff;function gD(t){Ff=t}function qu(){if(Ff!==void 0)return Ff;if(typeof document<"u")return document;throw new U(210,!1)}var Uo=new j("",{providedIn:"root",factory:()=>UN}),UN="ng",Mp=new j(""),Nt=new j("",{providedIn:"platform",factory:()=>"unknown"});var Np=new j("",{providedIn:"root",factory:()=>qu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function jN(){let t=new ii;return x(Nt)==="browser"&&(t.store=BN(qu(),x(Uo))),t}var ii=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=B({token:e,providedIn:"root",factory:jN});let t=e;return t})();function BN(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var mD="h",yD="b",Lf=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Lf||{}),$N="e",qN="t",xp="c",vD="x",Eu="r",HN="i",zN="n",GN="d",WN="__nghData__",_D=WN,hf="ngh",KN="nghm",ID=()=>null;function QN(t,e,n=!1){let r=t.getAttribute(hf);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,u={};if(r!==""){let h=e.get(ii,null,{optional:!0});h!==null&&(u=h.get(_D,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Hu(l,0,t.nextSibling)),a?t.setAttribute(hf,a):t.removeAttribute(hf),l}function YN(){ID=QN}function Pp(t,e,n=!1){return ID(t,e,n)}function JN(t){let e=t._lView;return e[ie].type===2?null:(SE(e)&&(e=e[it]),e)}function ZN(t){return t.textContent?.replace(/\s/gm,"")}function XN(t){let e=qu(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=ZN(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Hu(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Vf(t,e){return t.segmentHeads?.[e]??null}function ex(t,e){let n=t.data,r=n[$N]?.[e]??null;return r===null&&n[xp]?.[e]&&(r=Op(t,e)),r}function wD(t,e){return t.data[xp]?.[e]??null}function Op(t,e){let n=wD(t,e)??[],r=0;for(let i of n)r+=i[Eu]*(i[vD]??1);return r}function zu(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[GN];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Xc=new j(""),ED=!1,DD=new j("",{providedIn:"root",factory:()=>ED}),tx=new j("");var eu;function nx(){if(eu===void 0&&(eu=null,ht.trustedTypes))try{eu=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return eu}function Rw(t){return nx()?.createScriptURL(t)||t}var Du=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jw})`}};function jo(t){return t instanceof Du?t.changingThisBreaksApplicationSecurity:t}function kp(t,e){let n=rx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Jw})`)}return n===e}function rx(t){return t instanceof Du&&t.getTypeName()||null}var ix=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TD(t){return t=String(t),t.match(ix)?t:"unsafe:"+t}var Gu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Gu||{});function sx(t){let e=CD();return e?e.sanitize(Gu.URL,t)||"":kp(t,"URL")?jo(t):TD(kn(t))}function ox(t){let e=CD();if(e)return Rw(e.sanitize(Gu.RESOURCE_URL,t)||"");if(kp(t,"ResourceURL"))return Rw(jo(t));throw new U(904,!1)}function ax(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?ox:sx}function bD(t,e,n){return ax(e,n)(t)}function CD(){let t=ve();return t&&t[en].sanitizer}var cx=/^>|^->|<!--|-->|--!>|<!-$/g,ux=/(<|>)/g,lx="\u200B$1\u200B";function dx(t){return t.replace(cx,e=>e.replace(ux,lx))}function hx(t){return t.ownerDocument.body}function AD(t){return t instanceof Function?t():t}function Io(t){return(t??x(st)).get(Nt)==="browser"}var Vn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vn||{}),fx;function Fp(t,e){return fx(t,e)}function Wi(t,e,n,r,i){if(r!=null){let s,o=!1;fn(r)?s=r:Fn(r)&&(o=!0,r=r[At]);let a=tn(r);t===0&&n!==null?i==null?ND(e,n,a):Tu(e,n,a,i||null,!0):t===1&&n!==null?Tu(e,n,a,i||null,!0):t===2?Bp(e,a,o):t===3&&e.destroyNode(a),s!=null&&Mx(e,t,s,n,i)}}function Lp(t,e){return t.createText(e)}function px(t,e,n){t.setValue(e,n)}function Vp(t,e){return t.createComment(dx(e))}function Wu(t,e,n){return t.createElement(e,n)}function gx(t,e){SD(t,e),e[At]=null,e[nn]=null}function mx(t,e,n,r,i,s){r[At]=i,r[nn]=e,Ku(t,r,n,1,i,s)}function SD(t,e){e[en].changeDetectionScheduler?.notify(1),Ku(t,e,e[Ae],2,null,null)}function yx(t){let e=t[Ao];if(!e)return ff(t[ie],t);for(;e;){let n=null;if(Fn(e))n=e[Ao];else{let r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[Jt]&&e!==t;)Fn(e)&&ff(e[ie],e),e=e[Je];e===null&&(e=t),Fn(e)&&ff(e[ie],e),n=e&&e[Jt]}e=n}}function vx(t,e,n,r){let i=Ct+r,s=n.length;r>0&&(n[i-1][Jt]=e),r<s-Ct?(e[Jt]=n[i],aE(n,Ct+r,e)):(n.push(e),e[Jt]=null),e[Je]=n;let o=e[ju];o!==null&&n!==o&&_x(o,e);let a=e[es];a!==null&&a.insertView(t),Rf(e),e[K]|=128}function _x(t,e){let n=t[gu],i=e[Je][Je][Ut];e[Ut]!==i&&(t[K]|=mp.HasTransplantedViews),n===null?t[gu]=[e]:n.push(e)}function RD(t,e){let n=t[gu],r=n.indexOf(e);n.splice(r,1)}function Uf(t,e){if(t.length<=Ct)return;let n=Ct+e,r=t[n];if(r){let i=r[ju];i!==null&&i!==t&&RD(i,r),e>0&&(t[n-1][Jt]=r[Jt]);let s=hu(t,Ct+e);gx(r[ie],r);let o=s[es];o!==null&&o.detachView(s[ie]),r[Je]=null,r[Jt]=null,r[K]&=-129}return r}function MD(t,e){if(!(e[K]&256)){let n=e[Ae];n.destroyNode&&Ku(t,e,n,3,null,null),yx(e)}}function ff(t,e){if(e[K]&256)return;let n=he(null);try{e[K]&=-129,e[K]|=256,e[Jr]&&jI(e[Jr]),wx(t,e),Ix(t,e),e[ie].type===1&&e[Ae].destroy();let r=e[ju];if(r!==null&&fn(e[Je])){r!==e[Je]&&RD(r,e);let i=e[es];i!==null&&i.detachView(t)}VN(e)}finally{he(n)}}function Ix(t,e){let n=t.cleanup,r=e[Co];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Co]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function wx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];cn(4,a,u);try{u.call(a)}finally{cn(5,a,u)}}else{cn(4,i,s);try{s.call(i)}finally{cn(5,i,s)}}}}}function Ex(t,e,n){return Dx(t,e.parent,n)}function Dx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[At];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===ln.None||s===ln.Emulated)return null}return St(r,n)}}function Tu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ND(t,e,n){t.appendChild(e,n)}function Mw(t,e,n,r,i){r!==null?Tu(t,e,n,r,i):ND(t,e,n)}function Tx(t,e,n,r){t.removeChild(e,n,r)}function Up(t,e){return t.parentNode(e)}function bx(t,e){return t.nextSibling(e)}function Cx(t,e,n){return Sx(t,e,n)}function Ax(t,e,n){return t.type&40?St(t,n):null}var Sx=Ax,Nw;function jp(t,e,n,r){let i=Ex(t,r,e),s=e[Ae],o=r.parent||e[nn],a=Cx(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Mw(s,i,n[u],a,!1);else Mw(s,i,n,a,!1);Nw!==void 0&&Nw(s,r,e,n,i)}function cu(t,e){if(e!==null){let n=e.type;if(n&3)return St(e,t);if(n&4)return jf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cu(t,r);{let i=t[e.index];return fn(i)?jf(-1,i):tn(i)}}else{if(n&32)return Fp(e,t)()||tn(t[e.index]);{let r=xD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mo(t[Ut]);return cu(i,r)}else return cu(t,e.next)}}}return null}function xD(t,e){if(e!==null){let r=t[Ut][nn],i=e.projection;return r.projection[i]}return null}function jf(t,e){let n=Ct+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return cu(r,i)}return e[Ln]}function Bp(t,e,n){let r=Up(t,e);r&&Tx(t,r,e,n)}function PD(t){t.textContent=""}function $p(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&ei(tn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)$p(t,e,n.child,r,i,s,!1),Wi(e,t,i,a,s);else if(u&32){let l=Fp(n,r),h;for(;h=l();)Wi(e,t,i,h,s);Wi(e,t,i,a,s)}else u&16?Rx(t,e,r,n,i,s):Wi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ku(t,e,n,r,i,s){$p(n,r,t.firstChild,e,i,s,!1)}function Rx(t,e,n,r,i,s){let o=n[Ut],u=o[nn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Wi(e,t,i,h,s)}else{let l=u,h=o[Je];wu(r)&&(l.flags|=128),$p(t,e,l,h,i,s,!0)}}function Mx(t,e,n,r,i){let s=n[Ln],o=tn(n);s!==o&&Wi(e,t,r,s,i);for(let a=Ct;a<n.length;a++){let u=n[a];Ku(u[ie],u,t,e,r,s)}}function Nx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Vn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vn.Important),t.setStyle(n,r,i,s))}}function xx(t,e,n){t.setAttribute(e,"style",n)}function OD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function kD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Tf(t,e,r),i!==null&&OD(t,e,i),s!==null&&xx(t,e,s)}var $t={};function xt(t=1){FD(Rt(),ve(),Ir()+t,!1)}function FD(t,e,n,r){if(!r)if((e[K]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ou(e,s,n)}else{let s=t.preOrderHooks;s!==null&&au(e,s,0,n)}Zr(n)}function J(t,e=re.Default){let n=ve();if(n===null)return q(t,e);let r=Mt();return iD(r,n,dt(t),e)}function LD(){let t="invalid";throw new Error(t)}function VD(t,e,n,r,i,s){let o=he(null);try{let a=null;i&Ye.SignalBased&&(a=e[r][FI]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ye.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):RE(e,a,r,s)}finally{he(o)}}function Px(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zr(~i);else{let s=i,o=n[++r],a=n[++r];uN(o,s);let u=e[s];a(2,u)}}}finally{Zr(-1)}}function Qu(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[At]=i,p[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),FE(p),p[Je]=p[is]=t,p[Xt]=n,p[en]=o||t&&t[en],p[Ae]=a||t&&t[Ae],p[Xi]=u||t&&t[Xi]||null,p[nn]=s,p[Bu]=FN(),p[Zt]=h,p[bE]=l,p[Ut]=e.type==2?t[Ut]:p,p}function Yu(t,e,n,r,i){let s=t.data[e];if(s===null)s=Ox(t,e,n,r,i),cN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=iN();s.injectorIndex=o===null?-1:o.injectorIndex}return Vo(s,!0),s}function Ox(t,e,n,r,i){let s=UE(),o=jE(),a=o?s:s&&s.parent,u=t.data[e]=jx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function UD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jD(t,e,n,r,i){let s=Ir(),o=r&2;try{Zr(-1),o&&e.length>it&&FD(t,e,it,!1),cn(o?2:0,i),n(r,i)}finally{Zr(s),cn(o?3:1,i)}}function BD(t,e,n){if(AE(e)){let r=he(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{he(r)}}}function $D(t,e,n){VE()&&(Gx(t,e,n,St(n,e)),(n.flags&64)===64&&QD(t,e,n))}function qD(t,e,n=St){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function HD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qp(t,e,n,r,i,s,o,a,u,l,h){let p=it+r,m=p+i,I=kx(p,m),S=typeof l=="function"?l():l;return I[ie]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function kx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:$t);return n}function Fx(t,e,n,r){let s=r.get(DD,ED)||n===ln.ShadowDom,o=t.selectRootElement(e,s);return Lx(o),o}function Lx(t){zD(t)}var zD=()=>null;function Vx(t){lD(t)?PD(t):XN(t)}function Ux(){zD=Vx}function jx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Lo()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ye.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Pw(r,n,l,a,u):Pw(r,n,l,a)}return r}function Pw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Bx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,I=m?m.inputs:null,S=m?m.outputs:null;u=xw(0,p.inputs,h,u,I),l=xw(1,p.outputs,h,l,S);let N=u!==null&&o!==null&&!fp(e)?rP(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function $x(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function GD(t,e,n,r,i,s,o,a){let u=St(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Hp(t,n,h,r,i),Fo(e)&&qx(n,e.index)):e.type&3?(r=$x(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function qx(t,e){let n=_r(e,t);n[K]&16||(n[K]|=64)}function WD(t,e,n,r){if(VE()){let i=r===null?null:{"":-1},s=Kx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&KD(t,e,n,o,i,a),i&&Qx(n,r,i)}n.mergedAttrs=To(n.mergedAttrs,n.attrs)}function KD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)xf(Iu(n,e),t,r[l].type);Jx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=UD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=To(n.mergedAttrs,h.hostAttrs),Zx(t,n,e,u,h),Yx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Bx(t,n,s)}function Hx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;zx(o)!=a&&o.push(a),o.push(n,r,s)}}function zx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Gx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Fo(n)&&Xx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Iu(n,e),ei(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ts(e,t,a,n);if(ei(l,e),o!==null&&nP(e,a-i,l,u,n,o),pr(u)){let h=_r(n.index,e);h[Xt]=ts(e,t,a,n)}}}function QD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=lN();try{Zr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Mf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Wx(u,l)}}finally{Zr(-1),Mf(o)}}function Wx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Kx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(vM(e,o.selectors,!1))if(r||(r=[]),pr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Bf(t,e,u)}else r.unshift(o),Bf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Bf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Qx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new U(-301,!1);r.push(e[i],s)}}}function Yx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pr(e)&&(n[""]=t)}}function Jx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Qr(i.type,!0)),o=new Xr(s,pr(i),J);t.blueprint[r]=o,n[r]=o,Hx(t,e,r,UD(t,n,i.hostVars,$t),i)}function Xx(t,e,n){let r=St(e,t),i=HD(n),s=t[en].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ju(t,Qu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function eP(t,e,n,r,i,s){let o=St(t,e);tP(e[Ae],o,s,t.value,n,r,i)}function tP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?kn(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function nP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];VD(r,n,u,l,h,p)}}function rP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function YD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function JD(t,e){let n=t.contentQueries;if(n!==null){let r=he(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];qE(s),a.contentQueries(2,e[o],o)}}}finally{he(r)}}}function Ju(t,e){return t[Ao]?t[Ew][Jt]=e:t[Ao]=e,t[Ew]=e,e}function $f(t,e,n){qE(0);let r=he(null);try{e(t,n)}finally{he(r)}}function iP(t){return t[Co]||(t[Co]=[])}function sP(t){return t.cleanup||(t.cleanup=[])}function ZD(t,e){let n=t[Xi],r=n?n.get(dn,null):null;r&&r.handleError(e)}function Hp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];VD(h,l,r,a,u,i)}}function zp(t,e,n){let r=PE(e,t);px(t[Ae],r,n)}function oP(t,e){let n=_r(e,t),r=n[ie];aP(r,n);let i=n[At];i!==null&&n[Zt]===null&&(n[Zt]=Pp(i,n[Xi])),Gp(r,n,n[Xt])}function aP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Gp(t,e,n){Ep(e);try{let r=t.viewQuery;r!==null&&$f(1,r,n);let i=t.template;i!==null&&jD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[es]?.finishViewCreation(t),t.staticContentQueries&&JD(t,e),t.staticViewQueries&&$f(2,t.viewQuery,n);let s=t.components;s!==null&&cP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Dp()}}function cP(t,e){for(let n=0;n<e.length;n++)oP(t,e[n])}function uP(t,e,n,r){let i=he(null);try{let s=e.tView,a=t[K]&4096?4096:16,u=Qu(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ju]=l;let h=t[es];return h!==null&&(u[es]=h.createEmbeddedView(s)),Gp(s,u,n),u}finally{he(i)}}function Ow(t,e){return!e||e.firstChild===null||wu(t)}function lP(t,e,n,r=!0){let i=e[ie];if(vx(i,e,t,n),r){let o=jf(n,t),a=e[Ae],u=Up(a,t[Ln]);u!==null&&mx(i,t[nn],a,e,u,o)}let s=e[Zt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function bu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(tn(s)),fn(s)&&dP(s,r);let o=n.type;if(o&8)bu(t,e,n.child,r);else if(o&32){let a=Fp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=xD(e,n);if(Array.isArray(a))r.push(...a);else{let u=Mo(e[Ut]);bu(u[ie],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dP(t,e){for(let n=Ct;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&bu(r[ie],r,i,e)}t[Ln]!==t[At]&&e.push(t[Ln])}var XD=[];function hP(t){return t[Jr]??fP(t)}function fP(t){let e=XD.pop()??Object.create(gP);return e.lView=t,e}function pP(t){t.lView[Jr]!==t&&(t.lView=null,XD.push(t))}var gP=Ie(k({},LI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ro(t.lView)},consumerOnSignalRead(){this.lView[Jr]=this}}),e0=100;function t0(t,e=!0,n=0){let r=t[en],i=r.rendererFactory,s=!1;s||i.begin?.();try{mP(t,n)}catch(o){throw e&&ZD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function mP(t,e){qf(t,e);let n=0;for(;_p(t);){if(n===e0)throw new U(103,!1);n++,qf(t,1)}}function yP(t,e,n,r){let i=e[K];if((i&256)===256)return;let s=!1;!s&&e[en].inlineEffectRunner?.flush(),Ep(e);let o=null,a=null;!s&&vP(t)&&(a=hP(e),o=VI(a));try{FE(e),aN(t.bindingStartIndex),n!==null&&jD(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&ou(e,p,null)}else{let p=t.preOrderHooks;p!==null&&au(e,p,0,null),cf(e,0)}if(_P(e),n0(e,0),t.contentQueries!==null&&JD(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&ou(e,p)}else{let p=t.contentHooks;p!==null&&au(e,p,1),cf(e,1)}Px(t,e);let l=t.components;l!==null&&i0(e,l,0);let h=t.viewQuery;if(h!==null&&$f(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&ou(e,p)}else{let p=t.viewHooks;p!==null&&au(e,p,2),cf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[af]){for(let p of e[af])p();e[af]=null}s||(e[K]&=-73)}catch(u){throw Ro(e),u}finally{a!==null&&(UI(a,o),pP(a)),Dp()}}function vP(t){return t.type!==2}function n0(t,e){for(let n=hD(t);n!==null;n=fD(n))for(let r=Ct;r<n.length;r++){let i=n[r];r0(i,e)}}function _P(t){for(let e=hD(t);e!==null;e=fD(e)){if(!(e[K]&mp.HasTransplantedViews))continue;let n=e[gu];for(let r=0;r<n.length;r++){let i=n[r],s=i[Je];QM(i)}}}function IP(t,e,n){let r=_r(e,t);r0(r,n)}function r0(t,e){vp(t)&&qf(t,e)}function qf(t,e){let r=t[ie],i=t[K],s=t[Jr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&kh(s)),s&&(s.dirty=!1),t[K]&=-9217,o)yP(r,t,r.template,t[Xt]);else if(i&8192){n0(t,1);let a=r.components;a!==null&&i0(t,a,1)}}function i0(t,e,n){for(let r=0;r<e.length;r++)IP(t,e[r],n)}function Wp(t){for(t[en].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=Mo(t);if(SE(t)&&!e)return t;t=e}return null}var ti=class{get rootNodes(){let e=this._lView,n=e[ie];return bu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Je];if(fn(e)){let n=e[pu],r=n?n.indexOf(this):-1;r>-1&&(Uf(e,r),hu(n,r))}this._attachedToViewContainer=!1}MD(this._lView[ie],this._lView)}onDestroy(e){LE(this._lView,e)}markForCheck(){Wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){Rf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,t0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,SD(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e,Rf(this._lView)}},Zu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DP;let t=e;return t})(),wP=Zu,EP=class extends wP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=uP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ti(i)}};function DP(){return TP(Mt(),ve())}function TP(t,e){return t.type&4?new EP(e,t,$u(t,e)):null}function s0(t){let e=t[So]??[],r=t[Je][Ae];for(let i of e)bP(i,r);t[So]=bt}function bP(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Eu];for(;n<i;){let s=r.nextSibling;Bp(e,r,!1),r=s,n++}}}function o0(t){s0(t);for(let e=Ct;e<t.length;e++)Cu(t[e])}function CP(t){let e=t[Zt]?.i18nNodes;if(e){let n=t[Ae];for(let r of e.values())Bp(n,r,!1);t[Zt].i18nNodes=void 0}}function Cu(t){CP(t);let e=t[ie];for(let n=it;n<e.bindingStartIndex;n++)if(fn(t[n])){let r=t[n];o0(r)}else Fn(t[n])&&Cu(t[n])}function AP(t){let e=t._views;for(let n of e){let r=JN(n);if(r!==null&&r[At]!==null)if(Fn(r))Cu(r);else{let i=r[At];Cu(i),o0(r)}}}var SP=new RegExp(`^(\\d+)*(${yD}|${mD})*(.*)`);function RP(t){let e=t.match(SP),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[u,l,h]of s.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[o,...a]}function MP(t){return!t.prev&&t.parent?.type===8}function pf(t){return t.index-it}function NP(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function Xu(t,e,n,r){let i=pf(r),s=NP(t,i);if(!s){let o=t.data[zN];if(o?.[i])s=PP(o[i],n);else if(e.firstChild===r)s=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(MP(r)){let l=pf(r.parent);s=Vf(t,l)}else{let l=St(u,n);if(a)s=l.firstChild;else{let h=pf(u),p=Vf(t,h);if(u.type===2&&p){let I=Op(t,h)+1;s=el(I,p)}else s=l.nextSibling}}}}return s}function el(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function xP(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Lf.FirstChild:n=n.firstChild;break;case Lf.NextSibling:n=n.nextSibling;break}}return n}function PP(t,e){let[n,...r]=RP(t),i;if(n===mD)i=e[Ut][At];else if(n===yD)i=hx(e[Ut][At]);else{let s=Number(n);i=tn(e[s+it])}return xP(i,r)}function OP(t,e){let n=[];for(let r of e)for(let i=0;i<(r[vD]??1);i++){let s={data:r,firstChild:null};r[Eu]>0&&(s.firstChild=t,t=el(r[Eu],t)),n.push(s)}return[t,n]}var a0=()=>null;function kP(t,e){let n=t[So];return!e||n===null||n.length===0?null:n[0].data[HN]===e?n.shift():(s0(t),null)}function FP(){a0=kP}function kw(t,e){return a0(t,e)}var Au=class{},Hf=class{},Su=class{};function LP(t){let e=Error(`No component factory found for ${ft(t)}.`);return e[VP]=t,e}var VP="ngComponent";var zf=class{resolveComponentFactory(e){throw LP(e)}},tl=(()=>{let e=class e{};e.NULL=new zf;let t=e;return t})(),No=class{},wr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>UP();let t=e;return t})();function UP(){let t=ve(),e=Mt(),n=_r(e.index,t);return(Fn(n)?n:t)[Ae]}var jP=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),gf={};var Fw=new Set;function as(t){Fw.has(t)||(Fw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Lw(...t){}function BP(){let t=typeof ht.requestAnimationFrame=="function",e=ht[t?"requestAnimationFrame":"setTimeout"],n=ht[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var fe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=BP().nativeRequestAnimationFrame,HP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$P,Lw,Lw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$P={};function Kp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ht,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gf(t),t.isCheckStableRunning=!0,Kp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gf(t))}function HP(t){let e=()=>{qP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(zP(a))return n.invokeTask(i,s,o,a);try{return Vw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Uw(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Vw(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Uw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Gf(t),Kp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Gf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Vw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uw(t){t._nesting--,Kp(t)}var Wf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function zP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function GP(t="zone.js",e){return t==="noop"?new Wf:t==="zone.js"?new fe(e):t}var Ki=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ki||{}),WP={destroy(){}};function nl(t,e){!e&&VM(nl);let n=e?.injector??x(st);if(!Io(n))return WP;as("NgAfterNextRender");let r=n.get(Qp),i=r.handler??=new Qf,s=e?.phase??Ki.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(Rp).onDestroy(o),u=hn(n,()=>new Kf(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var Kf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=x(fe),this.errorHandler=x(dn,{optional:!0}),x(Au,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Qf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ki.EarlyRead]:new Set,[Ki.Write]:new Set,[Ki.MixedReadWrite]:new Set,[Ki.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Qp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Yf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=hw(i,a);else if(s==2){let u=a,l=e[++o];r=hw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ru=class extends tl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=fr(e);return new ns(n,this.ngModule)}};function jw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function KP(t){let e=t.toLowerCase();return e==="svg"?HM:e==="math"?zM:null}var Jf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vu(r);let i=this.injector.get(e,gf,r);return i!==gf||n===gf?i:this.parentInjector.get(e,n,r)}},ns=class extends Su{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=jw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return jw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=EM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=he(null);try{i=i||this.ngModule;let o=i instanceof vt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Jf(e,o):e,u=a.get(No,null);if(u===null)throw new U(407,!1);let l=a.get(jP,null),h=a.get(Qp,null),p=a.get(Au,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=r?Fx(I,r,this.componentDef.encapsulation,a):Wu(I,S,KP(S)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let F=null;N!==null&&(F=Pp(N,a,!0));let G=qp(0,null,null,1,0,null,null,null,null,null,null),z=Qu(null,G,null,M,null,null,m,I,a,null,F);Ep(z);let ce,Ne;try{let X=this.componentDef,E,y=null;X.findHostDirectiveDefs?(E=[],y=new Map,X.findHostDirectiveDefs(X,E,y),E.push(X)):E=[X];let v=QP(z,N),w=YP(v,N,X,E,z,m,I);Ne=OE(G,it),N&&XP(I,X,N,r),n!==void 0&&eO(Ne,this.ngContentSelectors,n),ce=ZP(w,X,E,y,z,[tO]),Gp(G,z,null)}finally{Dp()}return new Zf(this.componentType,ce,$u(Ne,z),z,Ne)}finally{he(s)}}},Zf=class extends Hf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ti(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Hp(s[ie],s,i,e,n),this.previousInputValues.set(e,n);let o=_r(this._tNode.index,s);Wp(o)}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QP(t,e){let n=t[ie],r=it;return t[r]=e,Yu(n,r,2,"#host",null)}function YP(t,e,n,r,i,s,o){let a=i[ie];JP(r,t,e,o);let u=null;e!==null&&(u=Pp(e,i[Xi]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Qu(i,HD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Bf(a,t,r.length-1),Ju(i,p),i[t.index]=p}function JP(t,e,n,r){for(let i of t)e.mergedAttrs=To(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yf(e,e.mergedAttrs,!0),n!==null&&kD(r,n,e))}function ZP(t,e,n,r,i,s){let o=Mt(),a=i[ie],u=St(o,i);KD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=ts(i,a,p,o);ei(m,i)}QD(a,i,o),u&&ei(u,i);let l=ts(i,a,o.directiveStart+o.componentOffset,o);if(t[Xt]=i[Xt]=l,s!==null)for(let h of s)h(l,e);return BD(a,o,i),l}function XP(t,e,n,r){if(r)Tf(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=DM(e.selectors[0]);i&&Tf(t,n,i),s&&s.length>0&&OD(t,n,s.join(" "))}}function eO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function tO(){let t=Mt();Cp(ve()[ie],t)}var cs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nO;let t=e;return t})();function nO(){let t=Mt();return iO(t,ve())}var rO=cs,c0=class extends rO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ap(this._hostTNode,this._hostLView);if(ZE(e)){let n=vu(e,this._hostLView),r=yu(e),i=n[ie].data[r+8];return new Kr(i,n)}else return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Bw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=kw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ow(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!jM(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new ns(fr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(vt,null);N&&(s=N)}let h=fr(u.componentType??{}),p=kw(this._lContainer,h?.id??null),m=p?.firstChild??null,I=u.create(l,i,m,s);return this.insertImpl(I.hostView,a,Ow(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(KM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Je],l=new c0(u,u[nn],u[Je]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return lP(o,i,s,r),e.attachToViewContainerRef(),aE(mf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Bw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Uf(this._lContainer,n);r&&(hu(mf(this._lContainer),n),MD(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=Uf(this._lContainer,n);return r&&hu(mf(this._lContainer),n)!=null?new ti(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Bw(t){return t[pu]}function mf(t){return t[pu]||(t[pu]=[])}function iO(t,e){let n,r=e[t.index];return fn(r)?n=r:(n=YD(r,e,null,t),e[t.index]=n,Ju(e,n)),u0(n,e,t,r),new c0(n,t,e)}function sO(t,e){let n=t[Ae],r=n.createComment(""),i=St(e,t),s=Up(n,i);return Tu(n,s,r,bx(n,i),!1),r}var u0=l0,Yp=()=>!1;function oO(t,e,n){return Yp(t,e,n)}function l0(t,e,n,r){if(t[Ln])return;let i;n.type&8?i=tn(r):i=sO(e,n),t[Ln]=i}function aO(t,e,n){if(t[Ln]&&t[So])return!0;let r=n[Zt],i=e.index-it;if(!r||ON(e)||zu(r,i))return!1;let o=Vf(r,i),a=r.data[xp]?.[i],[u,l]=OP(o,a);return t[Ln]=u,t[So]=l,!0}function cO(t,e,n,r){Yp(t,n,e)||l0(t,e,n,r)}function uO(){u0=cO,Yp=aO}function lO(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(pO))}return s}return Mu.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,h=i.styleUrls;i.styleUrls.forEach((p,m)=>{a.push(""),o.push(r(p).then(I=>{a[l+m]=I,h.splice(h.indexOf(p),1),h.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let u=Promise.all(o).then(()=>gO(s));e.push(u)}),hO(),Promise.all(e).then(()=>{})}var Mu=new Map,dO=new Set;function hO(){let t=Mu;return Mu=new Map,t}function fO(){return Mu.size===0}function pO(t){return typeof t=="string"?t:t.text()}function gO(t){dO.delete(t)}function mO(t){return Object.getPrototypeOf(t.prototype).constructor}function gn(t){let e=mO(t.type),n=!0,r=[t];for(;e;){let i;if(pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=tu(t.inputs),o.inputTransforms=tu(t.inputTransforms),o.declaredInputs=tu(t.declaredInputs),o.outputs=tu(t.outputs);let a=i.hostBindings;a&&wO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&_O(t,u),l&&IO(t,l),yO(t,i),HR(t.outputs,i.outputs),pr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===gn&&(n=!1)}}e=Object.getPrototypeOf(e)}vO(r)}function yO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function vO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=To(i.hostAttrs,n=To(n,i.hostAttrs))}}function tu(t){return t===Ji?{}:t===bt?[]:t}function _O(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function IO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function wO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Jp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var gr=class{},xo=class{};var Nu=class extends gr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ru(this);let i=yE(e);this._bootstrapComponents=AD(i.bootstrap),this._r3Injector=aD(e,n,[{provide:gr,useValue:this},{provide:tl,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xu=class extends xo{constructor(e){super(),this.moduleType=e}create(e){return new Nu(this.moduleType,e,[])}};function EO(t,e,n){return new Nu(t,e,n)}var Xf=class extends gr{constructor(e){super(),this.componentFactoryResolver=new Ru(this),this.instance=null;let n=new bo([...e.providers,{provide:gr,useValue:this},{provide:tl,useValue:this.componentFactoryResolver}],e.parent||gp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rl(t,e,n=null){return new Xf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Bo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function d0(t){return TO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function DO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function TO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function h0(t,e,n){return t[e]=n}function mr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Zp(t,e,n,r){let i=mr(t,e,n);return mr(t,e+1,r)||i}function bO(t,e,n,r,i){let s=Zp(t,e,n,r);return mr(t,e+2,i)||s}function $o(t){return(t.flags&32)===32}function CO(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Yu(e,t,4,o||null,mu(l,a));WD(e,n,h,mu(l,u)),Cp(e,h);let p=h.tView=qp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function $n(t,e,n,r,i,s,o,a){let u=ve(),l=Rt(),h=t+it,p=l.firstCreatePass?CO(h,l,u,e,n,r,i,s,o):l.data[h];Vo(p,!1);let m=f0(l,u,p,t);bp()&&jp(l,u,m,p),ei(m,u);let I=YD(m,u,m,p);return u[h]=I,Ju(u,I),oO(I,p,u),yp(p)&&$D(l,u,p),o!=null&&qD(u,p,a),$n}var f0=p0;function p0(t,e,n,r){return pn(!0),e[Ae].createComment("")}function AO(t,e,n,r){let i=e[Zt],s=!i||Lo()||$o(n)||zu(i,r);if(pn(s),s)return p0(t,e,n,r);let o=i.data[qN]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Xu(i,t,e,n);Hu(i,r,a);let u=Op(i,r);return el(u,a)}function SO(){f0=AO}function qo(t,e,n,r){let i=ve(),s=Ip();if(mr(i,s,e)){let o=Rt(),a=Tp();eP(a,i,t,e,n,r)}return qo}function g0(t,e,n,r){return mr(t,Ip(),n)?e+kn(n)+r:$t}function RO(t,e,n,r,i,s){let o=$E(),a=Zp(t,o,n,i);return wp(2),a?e+kn(n)+r+kn(i)+s:$t}function MO(t,e,n,r,i,s,o,a){let u=$E(),l=bO(t,u,n,i,o);return wp(3),l?e+kn(n)+r+kn(i)+s+kn(o)+a:$t}function nu(t,e){return t<<17|e<<2}function ni(t){return t>>17&32767}function NO(t){return(t&2)==2}function xO(t,e){return t&131071|e<<17}function ep(t){return t|2}function rs(t){return(t&131068)>>2}function yf(t,e){return t&-131069|e<<2}function PO(t){return(t&1)===1}function tp(t){return t|1}function OO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ni(o),u=rs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ko(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ni(t[a+1]);t[r+1]=nu(m,a),m!==0&&(t[m+1]=yf(t[m+1],r)),t[a+1]=xO(t[a+1],r)}else t[r+1]=nu(a,0),a!==0&&(t[a+1]=yf(t[a+1],r)),a=r;else t[r+1]=nu(u,0),a===0?a=r:t[u+1]=yf(t[u+1],r),u=r;l&&(t[r+1]=ep(t[r+1])),$w(t,h,r,!0),$w(t,h,r,!1),kO(e,h,t,r,s),o=nu(a,u),s?e.classBindings=o:e.styleBindings=o}function kO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ko(s,e)>=0&&(n[r+1]=tp(n[r+1]))}function $w(t,e,n,r){let i=t[n+1],s=e===null,o=r?ni(i):rs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];FO(u,e)&&(a=!0,t[o+1]=r?tp(l):ep(l)),o=r?ni(l):rs(l)}a&&(t[n+1]=r?ep(i):tp(i))}function FO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ko(t,e)>=0:!1}function mn(t,e,n){let r=ve(),i=Ip();if(mr(r,i,e)){let s=Rt(),o=Tp();GD(s,o,r,t,e,r[Ae],n,!1)}return mn}function qw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Hp(t,n,s[o],o,r)}function il(t,e){return LO(t,e,null,!0),il}function LO(t,e,n,r){let i=ve(),s=Rt(),o=wp(2);if(s.firstUpdatePass&&UO(s,t,o,r),e!==$t&&mr(i,o,e)){let a=s.data[Ir()];HO(s,a,i,i[Ae],t,i[o+1]=zO(e,n),r,o)}}function VO(t,e){return e>=t.expandoStartIndex}function UO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ir()],o=VO(t,n);GO(s,r)&&e===null&&!o&&(e=!1),e=jO(i,s,e,r),OO(i,s,e,n,o,r)}}function jO(t,e,n,r){let i=dN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=vf(null,t,e,n,r),n=Po(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=vf(i,t,e,n,r),s===null){let u=BO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=vf(null,t,e,u[1],r),u=Po(u,e.attrs,r),$O(t,e,r,u))}else s=qO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function BO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[ni(r)]}function $O(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ni(i)]=r}function qO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Po(r,o,n)}return Po(r,e.attrs,n)}function vf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Po(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Po(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),lM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function HO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=PO(l)?Hw(u,e,n,i,rs(l),o):void 0;if(!Pu(h)){Pu(s)||NO(l)&&(s=Hw(u,null,n,i,a,o));let p=PE(Ir(),n);Nx(r,o,p,i,s)}}function Hw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===$t&&(m=p?bt:void 0);let I=p?sf(m,r):h===r?m:void 0;if(l&&!Pu(I)&&(I=sf(u,r)),Pu(I)&&(a=I,o))return a;let S=t[i+1];i=o?ni(S):rs(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=sf(u,r))}return a}function Pu(t){return t!==void 0}function zO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ft(jo(t)))),t}function GO(t,e){return(t.flags&(e?8:16))!==0}function WO(t,e,n,r,i,s){let o=e.consts,a=mu(o,i),u=Yu(e,t,2,r,a);return WD(e,n,u,mu(o,s)),u.attrs!==null&&Yf(u,u.attrs,!1),u.mergedAttrs!==null&&Yf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function we(t,e,n,r){let i=ve(),s=Rt(),o=it+t,a=i[Ae],u=s.firstCreatePass?WO(o,s,i,e,n,r):s.data[o],l=m0(s,i,u,a,e,t);i[o]=l;let h=yp(u);return Vo(u,!0),kD(a,l,u),!$o(u)&&bp()&&jp(s,i,l,u),ZM()===0&&ei(l,i),XM(),h&&($D(s,i,u),BD(s,u,i)),r!==null&&qD(i,u),we}function _e(){let t=Mt();jE()?sN():(t=t.parent,Vo(t,!1));let e=t;tN(e)&&rN(),eN();let n=Rt();return n.firstCreatePass&&(Cp(n,t),AE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&yN(e)&&qw(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&vN(e)&&qw(n,e,ve(),e.stylesWithoutHost,!1),_e}function rn(t,e,n,r){return we(t,e,n,r),_e(),rn}var m0=(t,e,n,r,i,s)=>(pn(!0),Wu(r,i,QE()));function KO(t,e,n,r,i,s){let o=e[Zt],a=!o||Lo()||$o(n)||zu(o,s);if(pn(a),a)return Wu(r,i,QE());let u=Xu(o,t,e,n);return wD(o,s)&&Hu(o,s,u.nextSibling),o&&(uD(n)||lD(u))&&Fo(n)&&(nN(n),PD(u)),u}function QO(){m0=KO}var YO=(t,e,n,r)=>(pn(!0),Vp(e[Ae],""));function JO(t,e,n,r){let i,s=e[Zt],o=!s||Lo()||$o(n);if(pn(o),o)return Vp(e[Ae],"");let a=Xu(s,t,e,n),u=ex(s,r);return Hu(s,r,a),i=el(u,a),i}function ZO(){YO=JO}function Ho(){return ve()}var Ou="en-US";var XO=Ou;function ek(t){typeof t=="string"&&(XO=t.toLowerCase().replace(/_/g,"-"))}function y0(t,e,n){let r=t[Ae];switch(n){case Node.COMMENT_NODE:return Vp(r,e);case Node.TEXT_NODE:return Lp(r,e);case Node.ELEMENT_NODE:return Wu(r,e,null)}}var tk=(t,e,n,r)=>(pn(!0),y0(t,n,r));function nk(t,e,n,r){return pn(!0),y0(t,n,r)}function rk(){tk=nk}function Pt(t,e,n,r){let i=ve(),s=Rt(),o=Mt();return sk(s,i,i[Ae],o,t,e,r),Pt}function ik(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Co],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function sk(t,e,n,r,i,s,o){let a=yp(r),l=t.firstCreatePass&&sP(t),h=e[Xt],p=iP(e),m=!0;if(r.type&3||o){let N=St(r,e),M=o?o(N):N,F=p.length,G=o?ce=>o(tn(ce[r.index])):r.index,z=null;if(!o&&a&&(z=ik(t,e,i,r.index)),z!==null){let ce=z.__ngLastListenerFn__||z;ce.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1}else{s=Gw(r,e,h,s,!1);let ce=n.listen(M,i,s);p.push(s,ce),l&&l.push(i,G,F,F+1)}}else s=Gw(r,e,h,s,!1);let I=r.outputs,S;if(m&&I!==null&&(S=I[i])){let N=S.length;if(N)for(let M=0;M<N;M+=2){let F=S[M],G=S[M+1],Ne=e[F][G].subscribe(s),X=p.length;p.push(s,Ne),l&&l.push(i,r.index,X,-(X+1))}}}function zw(t,e,n,r){let i=he(null);try{return cn(6,e,n),n(r)!==!1}catch(s){return ZD(t,s),!1}finally{cn(7,e,n),he(i)}}function Gw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?_r(t.index,e):e;Wp(a);let u=zw(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=zw(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function Er(t=1){return fN(t)}function Xp(t,e,n,r,i){let s=ve(),o=g0(s,e,n,r);if(o!==$t){let a=Rt(),u=Tp();GD(a,u,s,t,o,s[Ae],i,!1)}return Xp}function ok(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function v0(t){let e=oN();return kE(e,it+t)}function Re(t,e=""){let n=ve(),r=Rt(),i=t+it,s=r.firstCreatePass?Yu(r,i,1,e,null):r.data[i],o=_0(r,n,s,e,t);n[i]=o,bp()&&jp(r,n,o,s),Vo(s,!1)}var _0=(t,e,n,r,i)=>(pn(!0),Lp(e[Ae],r));function ak(t,e,n,r,i){let s=e[Zt],o=!s||Lo()||$o(n)||zu(s,i);return pn(o),o?Lp(e[Ae],r):Xu(s,t,e,n)}function ck(){_0=ak}function eg(t){return sl("",t,""),eg}function sl(t,e,n){let r=ve(),i=g0(r,t,e,n);return i!==$t&&zp(r,Ir(),i),sl}function tg(t,e,n,r,i){let s=ve(),o=RO(s,t,e,n,r,i);return o!==$t&&zp(s,Ir(),o),tg}function zo(t,e,n,r,i,s,o){let a=ve(),u=MO(a,t,e,n,r,i,s,o);return u!==$t&&zp(a,Ir(),u),zo}function uk(t,e,n){let r=Rt();if(r.firstCreatePass){let i=pr(t);np(n,r.data,r.blueprint,i,!0),np(e,r.data,r.blueprint,i,!1)}}function np(t,e,n,r,i){if(t=dt(t),Array.isArray(t))for(let s=0;s<t.length;s++)np(t[s],e,n,r,i);else{let s=Rt(),o=ve(),a=Mt(),u=Zi(t)?t:dt(t.provide),l=DE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Zi(t)||!t.multi){let I=new Xr(l,i,J),S=If(u,e,i?h:h+m,p);S===-1?(xf(Iu(a,o),s,u),_f(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)):(n[S]=I,o[S]=I)}else{let I=If(u,e,h+m,p),S=If(u,e,h,h+m),N=I>=0&&n[I],M=S>=0&&n[S];if(i&&!M||!i&&!N){xf(Iu(a,o),s,u);let F=hk(i?dk:lk,n.length,i,r,l);!i&&M&&(n[S].providerFactory=F),_f(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=I0(n[i?S:I],l,!i&&r);_f(s,t,I>-1?I:S,F)}!i&&r&&M&&n[S].componentProviders++}}}function _f(t,e,n,r){let i=Zi(e),s=NM(e);if(i||s){let u=(s?dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function I0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function If(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function lk(t,e,n,r){return rp(this.multi,[])}function dk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ts(n,n[ie],this.providerFactory.index,r);s=a.slice(0,o),rp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],rp(i,s);return s}function rp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function hk(t,e,n,r,i){let s=new Xr(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,I0(s,i,r&&!n),s}function us(t,e=[]){return n=>{n.providersResolver=(r,i)=>uk(r,i?i(t):t,e)}}var fk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=IE(!1,r.type),s=i.length>0?rl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(q(vt))});let t=e;return t})();function w0(t){as("NgStandalone"),t.getStandaloneInjector=e=>e.get(fk).getOrCreateStandaloneInjector(t)}function E0(t,e,n,r,i){return gk(ve(),BE(),t,e,n,r,i)}function D0(t,e){let n=t[e];return n===$t?void 0:n}function pk(t,e,n,r,i,s){let o=e+n;return mr(t,o,i)?h0(t,o+1,s?r.call(s,i):r(i)):D0(t,o+1)}function gk(t,e,n,r,i,s,o){let a=e+n;return Zp(t,a,i,s)?h0(t,a+2,o?r.call(o,i,s):r(i,s)):D0(t,a+2)}function Go(t,e){let n=Rt(),r,i=t+it;n.firstCreatePass?(r=mk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Qr(r.type,!0)),o,a=yt(J);try{let u=_u(!1),l=s();return _u(u),ok(n,ve(),i,l),l}finally{yt(a)}}function mk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Wo(t,e,n){let r=t+it,i=ve(),s=kE(i,r);return yk(i,r)?pk(i,BE(),e,s.transform,n,s):s.transform(n)}function yk(t,e){return t[ie].data[e].pure}var ru=null;function vk(t){ru!==null&&(t.defaultEncapsulation!==ru.defaultEncapsulation||t.preserveWhitespaces!==ru.preserveWhitespaces)||(ru=t)}var Un=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},T0=new Un("17.3.12"),ol=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ng=new j(""),Ko=new j(""),al=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,rg||(_k(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(q(fe),q(cl),q(Ko))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),cl=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return rg?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function _k(t){rg=t}var rg;function Dr(t){return!!t&&typeof t.then=="function"}function ig(t){return!!t&&typeof t.subscribe=="function"}var ul=new j(""),b0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=x(ul,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Dr(o))r.push(o);else if(ig(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ls=new j("");function Ik(){BI(()=>{throw new U(600,!1)})}function wk(t){return t.isBoundToModule}function Ek(t,e,n){try{let r=n();return Dr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function C0(t,e){return Array.isArray(e)?e.reduce(C0,t):k(k({},t),e)}var qn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(cD),this.afterRenderEffectManager=x(Qp),this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=x(Bo).hasPendingTasks.pipe(ne(r=>!r)),this._injector=x(vt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Su;if(!this._injector.get(b0).done){let I=!s&&mE(r),S=!1;throw new U(405,S)}let a;s?a=r:a=this._injector.get(tl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=wk(a)?void 0:this._injector.get(gr),l=i||a.selector,h=a.create(st.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(ng,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),uu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new U(101,!1);let i=he(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,he(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===e0)throw new U(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)Dk(a,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>ip(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>ip(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;uu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ls,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new U(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var iu;function sg(t){iu??=new WeakMap;let e=iu.get(t);if(e)return e;let n=t.isStable.pipe(Qt(r=>r)).toPromise().then(()=>{});return iu.set(t,n),t.onDestroy(()=>iu?.delete(t)),n}function Dk(t,e,n){!e&&!ip(t)||Tk(t,n,e)}function ip(t){return _p(t)}function Tk(t,e,n){let r;n?(r=0,t[K]|=1024):t[K]&64?r=0:r=1,t0(t,e,r)}var sp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ll=(()=>{let e=class e{compileModuleSync(r){return new xu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=yE(r),o=AD(s.declarations).reduce((a,u)=>{let l=fr(u);return l&&a.push(new ns(l)),a},[]);return new sp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bk=new j("");function Ck(t,e,n){let r=new xu(n);return Promise.resolve(r)}function Ww(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Ak=(()=>{let e=class e{constructor(){this.zone=x(fe),this.applicationRef=x(qn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Sk(t){return[{provide:fe,useFactory:t},{provide:Yr,multi:!0,useFactory:()=>{let e=x(Ak,{optional:!0});return()=>e.initialize()}},{provide:Yr,multi:!0,useFactory:()=>{let e=x(Nk);return()=>{e.initialize()}}},{provide:cD,useFactory:Rk}]}function Rk(){let t=x(fe),e=x(dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Mk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Nk=(()=>{let e=class e{constructor(){this.subscription=new Oe,this.initialized=!1,this.zone=x(fe),this.pendingTasks=x(Bo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xk(){return typeof $localize<"u"&&$localize.locale||Ou}var og=new j("",{providedIn:"root",factory:()=>x(og,re.Optional|re.SkipSelf)||xk()});var A0=new j(""),S0=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=GP(i?.ngZone,Mk({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=EO(r.moduleType,this.injector,Sk(()=>s)),a=o.injector.get(dn,null);return s.runOutsideAngular(()=>{let u=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{uu(this._modules,o),u.unsubscribe()})}),Ek(a,s,()=>{let u=o.injector.get(b0);return u.runInitializers(),u.donePromise.then(()=>{let l=o.injector.get(og,Ou);return ek(l||Ou),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=C0({},i);return Ck(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(qn);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new U(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(A0,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(q(st))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Eo=null,R0=new j("");function Pk(t){if(Eo&&!Eo.get(R0,!1))throw new U(400,!1);Ik(),Eo=t;let e=t.get(S0);return Fk(t),e}function ag(t,e,n=[]){let r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=M0();if(!o||o.injector.get(R0,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):Pk(Ok(a,r))}return kk(i)}}function Ok(t=[],e){return st.create({name:e,providers:[{provide:Uu,useValue:"platform"},{provide:A0,useValue:new Set([()=>Eo=null])},...t]})}function kk(t){let e=M0();if(!e)throw new U(401,!1);return e}function M0(){return Eo?.get(S0)??null}function Fk(t){t.get(Mp,null)?.forEach(n=>n())}var Tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Lk;let t=e;return t})();function Lk(t){return Vk(Mt(),ve(),(t&16)===16)}function Vk(t,e,n){if(Fo(t)&&!n){let r=_r(t.index,e);return new ti(r,r)}else if(t.type&47){let r=e[Ut];return new ti(r,e)}return null}var op=class{constructor(){}supports(e){return d0(e)}create(e){return new ap(e)}},Uk=(t,e)=>e,ap=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Uk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Kw(r,i,s)?n:r,a=Kw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let I=m<s.length?s[m]:s[m]=0,S=I+m;h<=S&&S<l&&(s[m]=I+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!d0(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,DO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new cp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ku),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},up=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ku=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new up,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Kw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Qw(){return new cg([new op])}var cg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Qw()),deps:[[e,new dp,new jt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new U(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:Qw});let t=e;return t})();var N0=ag(null,"core",[]),x0=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(q(qn))},e.\u0275mod=He({type:e}),e.\u0275inj=qe({});let t=e;return t})();var Yw=!1,jk=!1;function Bk(){Yw||(Yw=!0,YN(),QO(),ck(),ZO(),SO(),uO(),FP(),Ux(),rk())}function $k(t,e){return sg(t)}function P0(){return jn([{provide:Xc,useFactory:()=>{let t=!0;return Io()&&(t=!!x(ii,{optional:!0})?.get(_D,null)),t&&as("NgHydration"),t}},{provide:Yr,useValue:()=>{jk=!!x(tx,{optional:!0}),Io()&&x(Xc)&&(qk(),Bk())},multi:!0},{provide:DD,useFactory:()=>Io()&&x(Xc)},{provide:ls,useFactory:()=>{if(Io()&&x(Xc)){let t=x(qn),e=x(st);return()=>{$k(t,e).then(()=>{AP(t)})}}return()=>{}},multi:!0}])}function qk(){let t=qu(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===KN){e=n;break}if(!e)throw new U(-507,!1)}function br(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ug(t){let e=he(null);try{return t()}finally{he(e)}}function O0(t){let e=fr(t);if(!e)return null;let n=new ns(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var j0=null;function yn(){return j0}function B0(t){j0??=t}var dl=class{};var gt=new j(""),yg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(Hk),providedIn:"platform"});let t=e;return t})(),$0=new j(""),Hk=(()=>{let e=class e extends yg{constructor(){super(),this._doc=x(gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yn().getBaseHref(this._doc)}onPopState(r){let i=yn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=yn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function vg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function k0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Hn(t){return t&&t[0]!=="?"?"?"+t:t}var zn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(_g),providedIn:"root"});let t=e;return t})(),q0=new j(""),_g=(()=>{let e=class e extends zn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??x(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return vg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Hn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Hn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Hn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(yg),q(q0,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H0=(()=>{let e=class e extends zn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=vg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Hn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Hn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(yg),q(q0,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ds=(()=>{let e=class e{constructor(r){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Wk(k0(F0(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Hn(i))}normalize(r){return e.stripTrailingSlash(Gk(this._basePath,F0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Hn,e.joinWithSlash=vg,e.stripTrailingSlash=k0,e.\u0275fac=function(i){return new(i||e)(q(zn))},e.\u0275prov=B({token:e,factory:()=>zk(),providedIn:"root"});let t=e;return t})();function zk(){return new ds(q(zn))}function Gk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function F0(t){return t.replace(/\/index.html$/,"")}function Wk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ig(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var lg=/\s+/,L0=[],z0=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=L0,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(lg):L0}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(lg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(lg).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(J(Bn),J(wr))},e.\u0275dir=$e({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ye.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var dg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fl=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new dg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),V0(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);V0(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(cs),J(Zu),J(cg))},e.\u0275dir=$e({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function V0(t,e){t.context.$implicit=e.item}var pl=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new hg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){U0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){U0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(cs),J(Zu))},e.\u0275dir=$e({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),hg=class{constructor(){this.$implicit=null,this.ngIf=null}};function U0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ft(e)}'.`)}function Kk(t,e){return new U(2100,!1)}var fg=class{createSubscription(e,n){return ug(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){ug(()=>e.unsubscribe())}},pg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Qk=new pg,Yk=new fg,gl=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Dr(r))return Qk;if(ig(r))return Yk;throw Kk(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(J(Tr,16))},e.\u0275pipe=fE({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var ml=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e}),e.\u0275inj=qe({});let t=e;return t})(),wg="browser",Jk="server";function Zk(t){return t===wg}function Qo(t){return t===Jk}var G0=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>Zk(x(Nt))?new gg(x(gt),window):new mg});let t=e;return t})(),gg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Xk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Xk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var mg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},hl=class{};var _l=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var eT=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(eT||{}),Eg=class{constructor(e,n=tT.Ok,r="OK"){this.headers=e.headers||new _l,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Il=class t extends Eg{constructor(e={}){super(e),this.type=eT.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var tT=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(tT||{});var t1=new j("");var W0="b",K0="h",Q0="s",Y0="st",J0="u",Z0="rt",vl=new j(""),n1=["GET","HEAD"];function r1(t,e){let p=x(vl),{isCacheActive:n}=p,r=OI(p,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!n1.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=x(ii),a=s1(t),u=o.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),u){let{[W0]:m,[Z0]:I,[K0]:S,[Q0]:N,[Y0]:M,[J0]:F}=u,G=m;switch(I){case"arraybuffer":G=new TextEncoder().encode(m).buffer;break;case"blob":G=new Blob([m]);break}let z=new _l(S);return $(new Il({body:G,headers:z,status:N,statusText:M,url:F}))}let h=Qo(x(Nt));return e(t).pipe(ke(m=>{m instanceof Il&&h&&o.set(a,{[W0]:m.body,[K0]:i1(m.headers,l),[Q0]:m.status,[Y0]:m.statusText,[J0]:m.url||"",[Z0]:t.responseType})}))}function i1(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function X0(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function s1(t){let{params:e,method:n,responseType:r,url:i}=t,s=X0(e),o=t.serializeBody();o instanceof URLSearchParams?o=X0(o):typeof o!="string"&&(o="");let a=[n,r,i,o,s].join("|"),u=o1(a);return u}function o1(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function nT(t){return[{provide:vl,useFactory:()=>(as("NgHttpTransferCache"),k({isCacheActive:!0},t))},{provide:t1,useValue:r1,multi:!0,deps:[ii,vl]},{provide:ls,multi:!0,useFactory:()=>{let e=x(qn),n=x(vl);return()=>{sg(e).then(()=>{n.isCacheActive=!1})}}}]}var bg=class extends dl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cg=class t extends bg{static makeCurrent(){B0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=a1();return n==null?null:c1(n)}resetBaseElement(){Yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ig(document.cookie,e)}},Yo=null;function a1(){return Yo=Yo||document.querySelector("base"),Yo?Yo.getAttribute("href"):null}function c1(t){return new URL(t,document.baseURI).pathname}var Ag=class{addToWindow(e){ht.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new U(5103,!1);return s},ht.getAllAngularTestabilities=()=>e.getAllTestabilities(),ht.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=ht.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};ht.frameworkStabilizers||(ht.frameworkStabilizers=[]),ht.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?yn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},u1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Sg=new j(""),oT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(q(Sg),q(fe))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),wl=class{constructor(e){this._doc=e}},Dg="ng-app-id",aT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qo(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Dg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Dg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Dg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(q(gt),q(Uo),q(Np,8),q(Nt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Tg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ng=/%COMP%/g,cT="%COMP%",l1=`_nghost-${cT}`,d1=`_ngcontent-${cT}`,h1=!0,f1=new j("",{providedIn:"root",factory:()=>h1});function p1(t){return d1.replace(Ng,t)}function g1(t){return l1.replace(Ng,t)}function uT(t,e){return e.map(n=>n.replace(Ng,t))}var rT=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Qo(u),this.defaultRenderer=new Jo(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ln.ShadowDom&&(i=Ie(k({},i),{encapsulation:ln.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof El?s.applyToHost(r):s instanceof Zo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case ln.Emulated:o=new El(l,h,i,this.appId,p,a,u,m);break;case ln.ShadowDom:return new Rg(l,h,r,i,a,u,this.nonce,m);default:o=new Zo(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(q(oT),q(aT),q(Uo),q(f1),q(gt),q(Nt),q(fe),q(Np))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Jo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Tg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(n,r,i&Vn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=yn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function iT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Rg=class extends Jo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=uT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zo=class extends Jo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?uT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},El=class extends Zo{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=p1(l),this.hostAttr=g1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},m1=(()=>{let e=class e extends wl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(q(gt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),sT=["alt","control","meta","shift"],y1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_1=(()=>{let e=class e extends wl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),sT.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=y1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),sT.forEach(a=>{if(a!==s){let u=v1[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(q(gt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function I1(){Cg.makeCurrent()}function w1(){return new dn}function E1(){return gD(document),document}var D1=[{provide:Nt,useValue:wg},{provide:Mp,useValue:I1,multi:!0},{provide:gt,useFactory:E1,deps:[]}],lT=ag(N0,"browser",D1),T1=new j(""),b1=[{provide:Ko,useClass:Ag,deps:[]},{provide:ng,useClass:al,deps:[fe,cl,Ko]},{provide:al,useClass:al,deps:[fe,cl,Ko]}],C1=[{provide:Uu,useValue:"root"},{provide:dn,useFactory:w1,deps:[]},{provide:Sg,useClass:m1,multi:!0,deps:[gt,fe,Nt]},{provide:Sg,useClass:_1,multi:!0,deps:[gt]},rT,aT,oT,{provide:No,useExisting:rT},{provide:hl,useClass:u1,deps:[]},[]],dT=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Uo,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(q(T1,12))},e.\u0275mod=He({type:e}),e.\u0275inj=qe({providers:[...C1,...b1],imports:[ml,x0]});let t=e;return t})();var hT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(q(gt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mg=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Mg||{});function fT(...t){let e=[],n=new Set,r=n.has(Mg.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return jn([[],P0(),n.has(Mg.NoHttpTransferCache)||r?[]:nT({}),e])}var ee="primary",fa=Symbol("RouteTitle"),Fg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ms(t){return new Fg(t)}function A1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function S1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vn(t[n],e[n]))return!1;return!0}function vn(t,e){let n=t?Lg(t):void 0,r=e?Lg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!DT(t[i],e[i]))return!1;return!0}function Lg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function DT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function TT(t){return t.length>0?t[t.length-1]:null}function Rr(t){return Jh(t)?t:Dr(t)?be(Promise.resolve(t)):$(t)}var R1={exact:CT,subset:AT},bT={exact:M1,subset:N1,ignored:()=>!0};function gT(t,e,n){return R1[n.paths](t.root,e.root,n.matrixParams)&&bT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function M1(t,e){return vn(t,e)}function CT(t,e,n){if(!oi(t.segments,e.segments)||!bl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!CT(t.children[r],e.children[r],n))return!1;return!0}function N1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DT(t[n],e[n]))}function AT(t,e,n){return ST(t,e,e.segments,n)}function ST(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!oi(i,n)||e.hasChildren()||!bl(i,n,r))}else if(t.segments.length===n.length){if(!oi(t.segments,n)||!bl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!AT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!oi(t.segments,i)||!bl(t.segments,i,r)||!t.children[ee]?!1:ST(t.children[ee],e,s,r)}}function bl(t,e,n){return e.every((r,i)=>bT[n](t[i].parameters,r.parameters))}var Cr=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ms(this.queryParams),this._queryParamMap}toString(){return O1.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cl(this)}},si=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ms(this.parameters),this._parameterMap}toString(){return MT(this)}};function x1(t,e){return oi(t,e)&&t.every((n,r)=>vn(n.parameters,e[r].parameters))}function oi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function P1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var pa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new sa,providedIn:"root"});let t=e;return t})(),sa=class{parse(e){let n=new Ug(e);return new Cr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Xo(e.root,!0)}`,r=L1(e.queryParams),i=typeof e.fragment=="string"?`#${k1(e.fragment)}`:"";return`${n}${r}${i}`}},O1=new sa;function Cl(t){return t.segments.map(e=>MT(e)).join("/")}function Xo(t,e){if(!t.hasChildren())return Cl(t);if(e){let n=t.children[ee]?Xo(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${Xo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=P1(t,(r,i)=>i===ee?[Xo(t.children[ee],!1)]:[`${i}:${Xo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Cl(t)}/${n[0]}`:`${Cl(t)}/(${n.join("//")})`}}function RT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dl(t){return RT(t).replace(/%3B/gi,";")}function k1(t){return encodeURI(t)}function Vg(t){return RT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Al(t){return decodeURIComponent(t)}function mT(t){return Al(t.replace(/\+/g,"%20"))}function MT(t){return`${Vg(t.path)}${F1(t.parameters)}`}function F1(t){return Object.entries(t).map(([e,n])=>`;${Vg(e)}=${Vg(n)}`).join("")}function L1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Dl(n)}=${Dl(i)}`).join("&"):`${Dl(n)}=${Dl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var V1=/^[^\/()?;#]+/;function xg(t){let e=t.match(V1);return e?e[0]:""}var U1=/^[^\/()?;=#]+/;function j1(t){let e=t.match(U1);return e?e[0]:""}var B1=/^[^=?&#]+/;function $1(t){let e=t.match(B1);return e?e[0]:""}var q1=/^[^&#]+/;function H1(t){let e=t.match(q1);return e?e[0]:""}var Ug=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new ye(e,n)),r}parseSegment(){let e=xg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new si(Al(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=j1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xg(this.remaining);i&&(r=i,this.capture(r))}e[Al(n)]=Al(r)}parseQueryParam(e){let n=$1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=H1(this.remaining);o&&(r=o,this.capture(r))}let i=mT(n),s=mT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ee]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function NT(t){return t.segments.length>0?new ye([],{[ee]:t}):t}function xT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=xT(i);if(r===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return z1(n)}function z1(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new ye(t.segments.concat(e.segments),e.children)}return t}function ys(t){return t instanceof Cr}function G1(t,e,n=null,r=null){let i=PT(t);return OT(i,e,n,r)}function PT(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new ye(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=NT(r);return e??i}function OT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Pg(i,i,i,n,r);let s=W1(e);if(s.toRoot())return Pg(i,i,new ye([],{}),n,r);let o=K1(s,i,t),a=o.processChildren?na(o.segmentGroup,o.index,s.commands):FT(o.segmentGroup,o.index,s.commands);return Pg(i,o.segmentGroup,a,n,r)}function Sl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function oa(t){return typeof t=="object"&&t!=null&&t.outlets}function Pg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=kT(t,e,n);let a=NT(xT(o));return new Cr(a,s,i)}function kT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=kT(s,e,n)}),new ye(t.segments,r)}var Rl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Sl(r[0]))throw new U(4003,!1);let i=r.find(oa);if(i&&i!==TT(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function W1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Rl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Rl(n,e,r)}var ps=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function K1(t,e,n){if(t.isAbsolute)return new ps(e,!0,0);if(!n)return new ps(e,!1,NaN);if(n.parent===null)return new ps(n,!0,0);let r=Sl(t.commands[0])?0:1,i=n.segments.length-1+r;return Q1(n,i,t.numberOfDoubleDots)}function Q1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ps(r,!1,i-s)}function Y1(t){return oa(t[0])?t[0].outlets:{[ee]:t}}function FT(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return na(t,e,n);let r=J1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new ye(t.segments.slice(r.pathIndex),t.children),na(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?jg(t,e,n):r.match?na(t,0,i):jg(t,e,n)}function na(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=Y1(n),i={};if(Object.keys(r).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=na(t.children[ee],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=FT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function J1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(oa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!vT(u,l,o))return s;r+=2}else{if(!vT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(oa(s)){let u=Z1(s.outlets);return new ye(r,u)}if(i===0&&Sl(n[0])){let u=t.segments[e];r.push(new si(u.path,yT(n[0]))),i++;continue}let o=oa(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Sl(a)?(r.push(new si(o,yT(a))),i+=2):(r.push(new si(o,{})),i++)}return new ye(r,{})}function Z1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jg(new ye([],{}),0,r))}),e}function yT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vT(t,e,n){return t==n.path&&vn(e,n.parameters)}var ra="imperative",ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ze||{}),qt=class{constructor(e,n){this.id=e,this.url=n}},vs=class extends qt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends qt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(kt||{}),Ml=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ml||{}),Ar=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sr=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ze.NavigationSkipped}},aa=class extends qt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nl=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bg=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$g=class extends qt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qg=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hg=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zg=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gg=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wg=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kg=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qg=class{constructor(e){this.snapshot=e,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yg=class{constructor(e){this.snapshot=e,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ze.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ca=class{},ua=class{constructor(e){this.url=e}};var Jg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ga,this.attachRef=null}},ga=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Jg,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Zg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Zg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xg(e,this._root).map(n=>n.value)}};function Zg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Zg(t,n);if(r)return r}return null}function Xg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xg(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ol=class extends Pl{constructor(e,n){super(e),this.snapshot=n,um(this,e)}toString(){return this.snapshot.toString()}};function LT(t){let e=X1(t),n=new Qe([new si("",{})]),r=new Qe({}),i=new Qe({}),s=new Qe({}),o=new Qe(""),a=new Gn(n,r,s,o,i,ee,t,e.root);return a.snapshot=e.root,new Ol(new Ot(a,[]),e)}function X1(t){let e={},n={},r={},i="",s=new la([],e,r,i,n,ee,t,null,{});return new kl("",new Ot(s,[]))}var Gn=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[fa]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&UT(i)&&(r.resolve[fa]=i.title),r}var la=class{get title(){return this.data?.[fa]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kl=class extends Pl{constructor(e,n){super(n),this.url=e,um(this,n)}toString(){return VT(this._root)}};function um(t,e){e.value._routerState=t,e.children.forEach(n=>um(t,n))}function VT(t){let e=t.children.length>0?` { ${t.children.map(VT).join(", ")} } `:"";return`${t.value}${e}`}function Og(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),vn(e.params,n.params)||t.paramsSubject.next(n.params),S1(e.url,n.url)||t.urlSubject.next(n.url),vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function em(t,e){let n=vn(t.params,e.params)&&x1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||em(t.parent,e.parent))}function UT(t){return typeof t.title=="string"||t.title===null}var ma=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=x(ga),this.location=x(cs),this.changeDetector=x(Tr),this.environmentInjector=x(vt),this.inputBinder=x(jl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new tm(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=$e({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]});let t=e;return t})(),tm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gn?this.route:e===ga?this.childContexts:this.parent.get(e,n)}},jl=new j(""),_T=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=_o([i.queryParams,i.params,i.data]).pipe(Tt(([o,a,u],l)=>(u=k(k(k({},o),a),u),l===0?$(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=O0(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function eF(t,e,n){let r=da(t,e._root,n?n._root:void 0);return new Ol(r,e)}function da(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=tF(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>da(t,a)),o}}let r=nF(e.value),i=e.children.map(s=>da(t,s));return new Ot(r,i)}}function tF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return da(t,r,i);return da(t,r)})}function nF(t){return new Gn(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var jT="ngNavigationCancelingError";function BT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ys(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$T(!1,kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function $T(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[jT]=!0,n.cancellationCode=e,n}function rF(t){return qT(t)&&ys(t.url)}function qT(t){return!!t&&t[jT]}var iF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["ng-component"]],standalone:!0,features:[w0],decls:1,vars:0,template:function(i,s){i&1&&rn(0,"router-outlet")},dependencies:[ma],encapsulation:2});let t=e;return t})();function sF(t,e){return t.providers&&!t._injector&&(t._injector=rl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function lm(t){let e=t.children&&t.children.map(lm),n=e?Ie(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=iF),n}function In(t){return t.outlet||ee}function oF(t,e){let n=t.filter(r=>In(r)===e);return n.push(...t.filter(r=>In(r)!==e)),n}function ya(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var aF=(t,e,n,r)=>ne(i=>(new nm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),nm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Og(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Og(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Og(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ya(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Fl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gs=class{constructor(e,n){this.component=e,this.route=n}};function cF(t,e,n){let r=t._root,i=e?e._root:null;return ea(r,i,n,[r.value])}function uF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!eE(t)?t:e.get(t):r}function ea(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=fs(e);return t.children.forEach(o=>{lF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ia(a,n.getContext(o),i)),i}function lF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=dF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ea(t,e,a?a.children:null,r,i):ea(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gs(a.outlet.component,o))}else o&&ia(e,a,i),i.canActivateChecks.push(new Fl(r)),s.component?ea(t,null,a?a.children:null,r,i):ea(t,null,n,r,i);return i}function dF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!oi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!oi(t.url,e.url)||!vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!em(t,e)||!vn(t.queryParams,e.queryParams);case"paramsChange":default:return!em(t,e)}}function ia(t,e,n){let r=fs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ia(o,e.children.getContext(s),n):ia(o,null,n):ia(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new gs(e.outlet.component,i)):n.canDeactivateChecks.push(new gs(null,i)):n.canDeactivateChecks.push(new gs(null,i))}function va(t){return typeof t=="function"}function hF(t){return typeof t=="boolean"}function fF(t){return t&&va(t.canLoad)}function pF(t){return t&&va(t.canActivate)}function gF(t){return t&&va(t.canActivateChild)}function mF(t){return t&&va(t.canDeactivate)}function yF(t){return t&&va(t.canMatch)}function HT(t){return t instanceof Pn||t?.name==="EmptyError"}var Tl=Symbol("INITIAL_VALUE");function _s(){return Tt(t=>_o(t.map(e=>e.pipe(On(1),nf(Tl)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Tl)return Tl;if(n===!1||n instanceof Cr)return n}return!0}),Dt(e=>e!==Tl),On(1)))}function vF(t,e){return Le(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?$(Ie(k({},n),{guardsResult:!0})):_F(o,r,i,t).pipe(Le(a=>a&&hF(a)?IF(r,s,t,e):$(a)),ne(a=>Ie(k({},n),{guardsResult:a})))})}function _F(t,e,n,r){return be(t).pipe(Le(i=>bF(i.component,i.route,n,e,r)),Qt(i=>i!==!0,!0))}function IF(t,e,n,r){return be(e).pipe(ur(i=>$i(EF(i.route.parent,r),wF(i.route,r),TF(t,i.path,n),DF(t,i.route,n))),Qt(i=>i!==!0,!0))}function wF(t,e){return t!==null&&e&&e(new Qg(t)),$(!0)}function EF(t,e){return t!==null&&e&&e(new Wg(t)),$(!0)}function DF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(s=>Yc(()=>{let o=ya(e)??n,a=Is(s,o),u=pF(a)?a.canActivate(e,t):hn(o,()=>a(e,t));return Rr(u).pipe(Qt())}));return $(i).pipe(_s())}function TF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>uF(o)).filter(o=>o!==null).map(o=>Yc(()=>{let a=o.guards.map(u=>{let l=ya(o.node)??n,h=Is(u,l),p=gF(h)?h.canActivateChild(r,t):hn(l,()=>h(r,t));return Rr(p).pipe(Qt())});return $(a).pipe(_s())}));return $(s).pipe(_s())}function bF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return $(!0);let o=s.map(a=>{let u=ya(e)??i,l=Is(a,u),h=mF(l)?l.canDeactivate(t,e,n,r):hn(u,()=>l(t,e,n,r));return Rr(h).pipe(Qt())});return $(o).pipe(_s())}function CF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let s=i.map(o=>{let a=Is(o,t),u=fF(a)?a.canLoad(e,n):hn(t,()=>a(e,n));return Rr(u)});return $(s).pipe(_s(),zT(r))}function zT(t){return qh(ke(e=>{if(ys(e))throw BT(t,e)}),ne(e=>e===!0))}function AF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let s=i.map(o=>{let a=Is(o,t),u=yF(a)?a.canMatch(e,n):hn(t,()=>a(e,n));return Rr(u)});return $(s).pipe(_s(),zT(r))}var ha=class{constructor(e){this.segmentGroup=e||null}},Ll=class extends Error{constructor(e){super(),this.urlTree=e}};function hs(t){return ji(new ha(t))}function SF(t){return ji(new U(4e3,!1))}function RF(t){return ji($T(!1,kt.GuardRejected))}var rm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[ee])return SF(e.redirectTo);i=i.children[ee]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ll(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Cr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},im={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MF(t,e,n,r,i){let s=dm(t,e,n);return s.matched?(r=sF(e,r),AF(r,e,n,i).pipe(ne(o=>o===!0?s:k({},im)))):$(s)}function dm(t,e,n){if(e.path==="**")return NF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},im):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||A1)(n,t,e);if(!i)return k({},im);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function NF(t){return{matched:!0,parameters:t.length>0?TT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function IT(t,e,n,r){return n.length>0&&OF(t,n,r)?{segmentGroup:new ye(e,PF(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&kF(t,n,r)?{segmentGroup:new ye(t.segments,xF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function xF(t,e,n,r){let i={};for(let s of n)if(Bl(t,e,s)&&!r[In(s)]){let o=new ye([],{});i[In(s)]=o}return k(k({},r),i)}function PF(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&In(r)!==ee){let i=new ye([],{});n[In(r)]=i}return n}function OF(t,e,n){return n.some(r=>Bl(t,e,r)&&In(r)!==ee)}function kF(t,e,n){return n.some(r=>Bl(t,e,r))}function Bl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FF(t,e,n,r){return In(t)!==r&&(r===ee||!Bl(e,n,t))?!1:dm(e,t,n).matched}function LF(t,e,n){return e.length===0&&!t.children[n]}var sm=class{};function VF(t,e,n,r,i,s,o="emptyOnly"){return new om(t,e,n,r,i,o,s).recognize()}var UF=31,om=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new rm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=IT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(n=>{let r=new la([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new Ot(r,n),s=new kl("",i),o=G1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(cr(r=>{if(r instanceof Ll)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ha?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=cm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ne(s=>s instanceof Ot?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return be(i).pipe(ur(s=>{let o=r.children[s],a=oF(n,s);return this.processSegmentGroup(e,a,o,s)}),tf((s,o)=>(s.push(...o),s)),lr(null),ef(),Le(s=>{if(s===null)return hs(r);let o=GT(s);return jF(o),$(o)}))}processSegment(e,n,r,i,s,o){return be(n).pipe(ur(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(cr(u=>{if(u instanceof ha)return $(null);throw u}))),Qt(a=>!!a),cr(a=>{if(HT(a))return LF(r,i,s)?$(new sm):hs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return FF(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):hs(i):hs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=dm(n,i,s);if(!a)return hs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UF&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Le(m=>this.processSegment(e,r,n,m.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=MF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Tt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Tt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,I=new la(h,m,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,$F(r),In(r),r.component??r._loadedComponent??null,r,qF(r)),{segmentGroup:S,slicedSegments:N}=IT(n,h,p,u);if(N.length===0&&S.hasChildren())return this.processChildren(l,u,S).pipe(ne(F=>F===null?null:new Ot(I,F)));if(u.length===0&&N.length===0)return $(new Ot(I,[]));let M=In(r)===s;return this.processSegment(l,u,S,N,M?ee:s,!0).pipe(ne(F=>new Ot(I,F instanceof Ot?[F]:[])))}))):hs(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):CF(e,n,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,n).pipe(ke(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):RF(n))):$({routes:[],injector:e})}};function jF(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function BF(t){let e=t.value.routeConfig;return e&&e.path===""}function GT(t){let e=[],n=new Set;for(let r of t){if(!BF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=GT(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function $F(t){return t.data||{}}function qF(t){return t.resolve||{}}function HF(t,e,n,r,i,s){return Le(o=>VF(t,e,n,r,o.extractedUrl,i,s).pipe(ne(({state:a,tree:u})=>Ie(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function zF(t,e){return Le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of WT(u))o.add(l);let a=0;return be(o).pipe(ur(u=>s.has(u)?GF(u,r,t,e):(u.data=cm(u,u.parent,t).resolve,$(void 0))),ke(()=>a++),Hi(1),Le(u=>a===o.size?$(n):Et))})}function WT(t){let e=t.children.map(n=>WT(n)).flat();return[t,...e]}function GF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!UT(i)&&(s[fa]=i.title),WF(s,t,e,r).pipe(ne(o=>(t._resolvedData=o,t.data=cm(t,t.parent,n).resolve,null)))}function WF(t,e,n,r){let i=Lg(t);if(i.length===0)return $({});let s={};return be(i).pipe(Le(o=>KF(t[o],e,n,r).pipe(Qt(),ke(a=>{s[o]=a}))),Hi(1),Xh(s),cr(o=>HT(o)?Et:ji(o)))}function KF(t,e,n,r){let i=ya(e)??r,s=Is(t,i),o=s.resolve?s.resolve(e,n):hn(i,()=>s(e,n));return Rr(o)}function kg(t){return Tt(e=>{let n=t(e);return n?be(n).pipe(ne(()=>e)):$(e)})}var KT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ee);return i}getResolvedTitleForRoute(r){return r.data[fa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(QF),providedIn:"root"});let t=e;return t})(),QF=(()=>{let e=class e extends KT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(q(hT))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_a=new j("",{providedIn:"root",factory:()=>({})}),Vl=new j(""),hm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(ll)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Rr(r.loadComponent()).pipe(ne(QT),ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qi(()=>{this.componentLoaders.delete(r)})),s=new Fi(i,()=>new rt).pipe(ki());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=YF(i,this.compiler,r,this.onLoadEndListener).pipe(qi(()=>{this.childrenLoaders.delete(i)})),a=new Fi(o,()=>new rt).pipe(ki());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YF(t,e,n,r){return Rr(t.loadChildren()).pipe(ne(QT),Le(i=>i instanceof xo||Array.isArray(i)?$(i):be(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Vl,[],{optional:!0,self:!0}).flat()),{routes:o.map(lm),injector:s}}))}function JF(t){return t&&typeof t=="object"&&"default"in t}function QT(t){return JF(t)?t.default:t}var fm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(ZF),providedIn:"root"});let t=e;return t})(),ZF=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YT=new j(""),JT=new j("");function XF(t,e,n){let r=t.get(JT),i=t.get(gt);return t.get(fe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),eL(t))),{onViewTransitionCreated:u}=r;return u&&hn(t,()=>u({transition:a,from:e,to:n})),o})}function eL(t){return new Promise(e=>{nl(e,{injector:t})})}var pm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=x(hm),this.environmentInjector=x(vt),this.urlSerializer=x(pa),this.rootContexts=x(ga),this.location=x(ds),this.inputBindingEnabled=x(jl,{optional:!0})!==null,this.titleStrategy=x(KT),this.options=x(_a,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(fm),this.createViewTransition=x(YT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let r=s=>this.events.next(new zg(s)),i=s=>this.events.next(new Gg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ie(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ra,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(o=>o.id!==0),ne(o=>Ie(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Tt(o=>{let a=!1,u=!1;return $(o).pipe(Tt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",kt.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.rawUrl),m,Ml.IgnoredSameUrlNavigation)),l.resolve(null),Et}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $(l).pipe(Tt(m=>{let I=this.transitions?.getValue();return this.events.next(new vs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),I!==this.transitions?.getValue()?Et:Promise.resolve(m)}),HF(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ie(k({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let I=new Nl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:I,source:S,restoredState:N,extras:M}=l,F=new vs(m,this.urlSerializer.serialize(I),S,N);this.events.next(F);let G=LT(this.rootComponentType).snapshot;return this.currentTransition=o=Ie(k({},l),{targetSnapshot:G,urlAfterRedirects:I,extras:Ie(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,$(o)}else{let m="";return this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Ml.IgnoredByUrlHandlingStrategy)),l.resolve(null),Et}}),ke(l=>{let h=new Bg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ne(l=>(this.currentTransition=o=Ie(k({},l),{guards:cF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),vF(this.environmentInjector,l=>this.events.next(l)),ke(l=>{if(o.guardsResult=l.guardsResult,ys(l.guardsResult))throw BT(this.urlSerializer,l.guardsResult);let h=new $g(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Dt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",kt.GuardRejected),!1)),kg(l=>{if(l.guards.canActivateChecks.length)return $(l).pipe(ke(h=>{let p=new qg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Tt(h=>{let p=!1;return $(h).pipe(zF(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",kt.NoDataFromResolver)}}))}),ke(h=>{let p=new Hg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),kg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(ke(I=>{p.component=I}),ne(()=>{})));for(let I of p.children)m.push(...h(I));return m};return _o(h(l.targetSnapshot.root)).pipe(lr(null),On(1))}),kg(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?be(p).pipe(ne(()=>o)):$(o)}),ne(l=>{let h=eF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Ie(k({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),ke(()=>{this.events.next(new ca)}),aF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),On(1),ke({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),rf(this.transitionAbortSubject.pipe(ke(l=>{throw l}))),qi(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",kt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(l=>{if(u=!0,qT(l))this.events.next(new Ar(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),rF(l)?this.events.next(new ua(l.url)):o.resolve(!1);else{this.events.next(new aa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Et}))}))}cancelNavigationTransition(r,i,s){let o=new Ar(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tL(t){return t!==ra}var nL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(rL),providedIn:"root"});let t=e;return t})(),am=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rL=(()=>{let e=class e extends am{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ri(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(iL),providedIn:"root"});let t=e;return t})(),iL=(()=>{let e=class e extends ZT{constructor(){super(...arguments),this.location=x(ds),this.urlSerializer=x(pa),this.options=x(_a,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(fm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=LT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof vs)this.stateMemento=this.createStateMemento();else if(r instanceof Sr)this.rawUrlTree=i.initialUrl;else if(r instanceof Nl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ca?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ar&&(r.code===kt.GuardRejected||r.code===kt.NoDataFromResolver)?this.restoreHistory(i):r instanceof aa?this.restoreHistory(i,!0):r instanceof _n&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=k(k({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ri(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ta=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ta||{});function XT(t,e){t.events.pipe(Dt(n=>n instanceof _n||n instanceof Ar||n instanceof aa||n instanceof Sr),ne(n=>n instanceof _n||n instanceof Sr?ta.COMPLETE:(n instanceof Ar?n.code===kt.Redirect||n.code===kt.SupersededByNewNavigation:!1)?ta.REDIRECTING:ta.FAILED),Dt(n=>n!==ta.REDIRECTING),On(1)).subscribe(()=>{e()})}function sL(t){throw t}var oL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=x(ol),this.stateManager=x(ZT),this.options=x(_a,{optional:!0})||{},this.pendingTasks=x(Bo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(pm),this.urlSerializer=x(pa),this.location=x(ds),this.urlHandlingStrategy=x(fm),this._events=new rt,this.errorHandler=this.options.errorHandler||sL,this.navigated=!1,this.routeReuseStrategy=x(nL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Vl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(jl,{optional:!0}),this.eventsSubscription=new Oe,this.isNgZoneEnabled=x(fe)instanceof fe&&fe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ar&&i.code!==kt.Redirect&&i.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _n)this.navigated=!0;else if(i instanceof ua){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||tL(s.source)};this.scheduleNavigation(a,ra,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}uL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ra,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=k({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(lm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let I=s?s.snapshot:this.routerState.snapshot.root;m=PT(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return OT(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ys(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ra,null,i)}navigate(r,i={skipLocationChange:!1}){return cL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=k({},oL):i===!1?s=k({},aL):s=i,ys(r))return gT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return gT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,I)=>{u=m,l=I});let p=this.pendingTasks.add();return XT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function uL(t){return!(t instanceof ca)&&!(t instanceof ua)}var eb=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof _n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:bD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(J(wn),J(Gn),Sp("tabindex"),J(wr),J(Bn),J(zn))},e.\u0275dir=$e({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Pt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&qo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ye.HasDecoratorInputTransform,"preserveFragment","preserveFragment",br],skipLocationChange:[Ye.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",br],replaceUrl:[Ye.HasDecoratorInputTransform,"replaceUrl","replaceUrl",br],routerLink:"routerLink"},standalone:!0,features:[Jp,vr]});let t=e;return t})();var Ul=class{};var lL=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(r=>r instanceof _n),ur(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=rl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return be(s).pipe(Bi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=$(null);let o=s.pipe(Le(a=>a===null?$(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return be([o,a]).pipe(Bi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(q(wn),q(ll),q(vt),q(Ul),q(hm))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tb=new j(""),dL=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=x(vt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof vs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof _n?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Sr&&r.code===Ml.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof xl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),nl(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new xl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){LD()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function hL(t){return t.routerState.root}function Ia(t,e){return{\u0275kind:t,\u0275providers:e}}function fL(){let t=x(st);return e=>{let n=t.get(qn);if(e!==n.components[0])return;let r=t.get(wn),i=t.get(nb);t.get(gm)===1&&r.initialNavigation(),t.get(rb,null,re.Optional)?.setUpPreloading(),t.get(tb,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nb=new j("",{factory:()=>new rt}),gm=new j("",{providedIn:"root",factory:()=>1});function pL(){return Ia(2,[{provide:gm,useValue:0},{provide:ul,multi:!0,deps:[st],useFactory:e=>{let n=e.get($0,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(wn),s=e.get(nb);XT(i,()=>{r(!0)}),e.get(pm).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}])}function gL(){return Ia(3,[{provide:ul,multi:!0,useFactory:()=>{let e=x(wn);return()=>{e.setUpLocationChangeListener()}}},{provide:gm,useValue:2}])}var rb=new j("");function mL(t){return Ia(0,[{provide:rb,useExisting:lL},{provide:Ul,useExisting:t}])}function yL(){return Ia(8,[_T,{provide:jl,useExisting:_T}])}function vL(t){let e=[{provide:YT,useValue:XF},{provide:JT,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ia(9,e)}var wT=new j("ROUTER_FORROOT_GUARD"),_L=[ds,{provide:pa,useClass:sa},wn,ga,{provide:Gn,useFactory:hL,deps:[wn]},hm,[]],ws=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[_L,[],{provide:Vl,multi:!0,useValue:r},{provide:wT,useFactory:DL,deps:[[wn,new jt,new dp]]},{provide:_a,useValue:i||{}},i?.useHash?wL():EL(),IL(),i?.preloadingStrategy?mL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?TL(i):[],i?.bindToComponentInputs?yL().\u0275providers:[],i?.enableViewTransitions?vL().\u0275providers:[],bL()]}}static forChild(r){return{ngModule:e,providers:[{provide:Vl,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(q(wT,8))},e.\u0275mod=He({type:e}),e.\u0275inj=qe({});let t=e;return t})();function IL(){return{provide:tb,useFactory:()=>{let t=x(G0),e=x(fe),n=x(_a),r=x(pm),i=x(pa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new dL(i,r,t,e,n)}}}function wL(){return{provide:zn,useClass:H0}}function EL(){return{provide:zn,useClass:_g}}function DL(t){return"guarded"}function TL(t){return[t.initialNavigation==="disabled"?gL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?pL().\u0275providers:[]]}var ET=new j("");function bL(){return[{provide:ET,useFactory:fL},{provide:ls,multi:!0,useExisting:ET}]}var ql=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["app-car-center"]],decls:3,vars:0,template:function(i,s){i&1&&(we(0,"h2"),Re(1,"\u0426\u0435\u043D\u0442\u0440 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435\u0439"),_e(),rn(2,"router-outlet"))},dependencies:[ma]});let t=e;return t})();var sb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,I=l&63;u||(I=64,o||(m=64)),r.push(n[h],n[p],n[m],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new ym;let m=s<<2|a>>4;if(r.push(m),l!==64){let I=a<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ym=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},AL=function(t){let e=sb(t);return ob.encodeByteArray(e,!0)},wa=function(t){return AL(t).replace(/\./g,"")},_m=function(t){try{return ob.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var RL=()=>SL().__FIREBASE_DEFAULTS__,ML=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&_m(t[1]);return e&&JSON.parse(e)},zl=()=>{try{return RL()||ML()||NL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ab=t=>{var e,n;return(n=(e=zl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cb=t=>{let e=ab(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Im=()=>{var t;return(t=zl())===null||t===void 0?void 0:t.config},ub=t=>{var e;return(e=zl())===null||e===void 0?void 0:e[`_${t}`]};var Hl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function lb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wa(JSON.stringify(n)),wa(JSON.stringify(o)),""].join(".")}function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function xL(){var t;let e=(t=zl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gb(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wm(){try{return typeof indexedDB=="object"}catch{return!1}}function mb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var PL="FirebaseError",Ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wn.prototype.create)}},Wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?OL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ht(i,a,r)}};function OL(t,e){return t.replace(kL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var kL=/\{\$([^}]+)}/g;function Es(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(ib(s)&&ib(o)){if(!Es(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ib(t){return t!==null&&typeof t=="object"}function Em(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yb(t,e){let n=new vm(t,e);return n.subscribe.bind(n)}var vm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mm),i.error===void 0&&(i.error=mm),i.complete===void 0&&(i.complete=mm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mm(){}var ZW=4*60*60*1e3;function zt(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ai="[DEFAULT]";var Dm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Hl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VL(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LL(t){return t===ai?void 0:t}function VL(t){return t.instantiationMode==="EAGER"}var Gl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var UL=[],oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(oe||{}),jL={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},BL=oe.INFO,$L={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},qL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=$L[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mr=class{constructor(e){this.name=e,this._logLevel=BL,this._logHandler=qL,this._userLogHandler=null,UL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var HL=(t,e)=>e.some(n=>t instanceof n),vb,_b;function zL(){return vb||(vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GL(){return _b||(_b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ib=new WeakMap,bm=new WeakMap,wb=new WeakMap,Tm=new WeakMap,Am=new WeakMap;function WL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(En(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ib.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function KL(t){if(bm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bm.set(t,e)}var Cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Eb(t){Cm=t(Cm)}function QL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Wl(this),e,...n);return wb.set(r,e.sort?e.sort():[e]),En(r)}:GL().includes(t)?function(...e){return t.apply(Wl(this),e),En(Ib.get(this))}:function(...e){return En(t.apply(Wl(this),e))}}function YL(t){return typeof t=="function"?QL(t):(t instanceof IDBTransaction&&KL(t),HL(t,zL())?new Proxy(t,Cm):t)}function En(t){if(t instanceof IDBRequest)return WL(t);if(Tm.has(t))return Tm.get(t);let e=YL(t);return e!==t&&(Tm.set(t,e),Am.set(e,t)),e}var Wl=t=>Am.get(t);function Tb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=En(o);return r&&o.addEventListener("upgradeneeded",u=>{r(En(o.result),u.oldVersion,u.newVersion,En(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var JL=["get","getKey","getAll","getAllKeys","count"],ZL=["put","add","delete","clear"],Sm=new Map;function Db(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ZL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JL.includes(n)))return;let s=function(o,...a){return C(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Sm.set(e,s),s}Eb(t=>Ie(k({},t),{get:(e,n,r)=>Db(e,n)||t.get(e,n,r),has:(e,n)=>!!Db(e,n)||t.has(e,n)}));var Mm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function XL(t){let e=t.getComponent();return e?.type==="VERSION"}var Nm="@firebase/app",bb="0.10.11";var Kn=new Mr("@firebase/app"),eV="@firebase/app-compat",tV="@firebase/analytics-compat",nV="@firebase/analytics",rV="@firebase/app-check-compat",iV="@firebase/app-check",sV="@firebase/auth",oV="@firebase/auth-compat",aV="@firebase/database",cV="@firebase/database-compat",uV="@firebase/functions",lV="@firebase/functions-compat",dV="@firebase/installations",hV="@firebase/installations-compat",fV="@firebase/messaging",pV="@firebase/messaging-compat",gV="@firebase/performance",mV="@firebase/performance-compat",yV="@firebase/remote-config",vV="@firebase/remote-config-compat",_V="@firebase/storage",IV="@firebase/storage-compat",wV="@firebase/firestore",EV="@firebase/vertexai-preview",DV="@firebase/firestore-compat",TV="firebase",bV="10.13.2";var xm="[DEFAULT]",CV={[Nm]:"fire-core",[eV]:"fire-core-compat",[nV]:"fire-analytics",[tV]:"fire-analytics-compat",[iV]:"fire-app-check",[rV]:"fire-app-check-compat",[sV]:"fire-auth",[oV]:"fire-auth-compat",[aV]:"fire-rtdb",[cV]:"fire-rtdb-compat",[uV]:"fire-fn",[lV]:"fire-fn-compat",[dV]:"fire-iid",[hV]:"fire-iid-compat",[fV]:"fire-fcm",[pV]:"fire-fcm-compat",[gV]:"fire-perf",[mV]:"fire-perf-compat",[yV]:"fire-rc",[vV]:"fire-rc-compat",[_V]:"fire-gcs",[IV]:"fire-gcs-compat",[wV]:"fire-fst",[DV]:"fire-fst-compat",[EV]:"fire-vertex","fire-js":"fire-js",[TV]:"fire-js-all"};var Ea=new Map,AV=new Map,Pm=new Map;function Cb(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xr(t){let e=t.name;if(Pm.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,t);for(let n of Ea.values())Cb(n,t);for(let n of AV.values())Cb(n,t);return!0}function Lm(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ds(t){return t.settings!==void 0}var SV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Wn("app","Firebase",SV);var Om=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}};var Ts=bV;function Vm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:xm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(n||(n=Im()),!n)throw Nr.create("no-options");let s=Ea.get(i);if(s){if(Es(n,s.options)&&Es(r,s.config))return s;throw Nr.create("duplicate-app",{appName:i})}let o=new Gl(i);for(let u of Pm.values())o.addComponent(u);let a=new Om(n,r,o);return Ea.set(i,a),a}function Ta(t=xm){let e=Ea.get(t);if(!e&&t===xm&&Im())return Vm();if(!e)throw Nr.create("no-app",{appName:t});return e}function Kl(){return Array.from(Ea.values())}function Ge(t,e,n){var r;let i=(r=CV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(a.join(" "));return}xr(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var RV="firebase-heartbeat-database",MV=1,Da="firebase-heartbeat-store",Rm=null;function Mb(){return Rm||(Rm=Tb(RV,MV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),Rm}function NV(t){return C(this,null,function*(){try{let n=(yield Mb()).transaction(Da),r=yield n.objectStore(Da).get(Nb(t));return yield n.done,r}catch(e){if(e instanceof Ht)Kn.warn(e.message);else{let n=Nr.create("idb-get",{originalErrorMessage:e?.message});Kn.warn(n.message)}}})}function Ab(t,e){return C(this,null,function*(){try{let r=(yield Mb()).transaction(Da,"readwrite");yield r.objectStore(Da).put(e,Nb(t)),yield r.done}catch(n){if(n instanceof Ht)Kn.warn(n.message);else{let r=Nr.create("idb-set",{originalErrorMessage:n?.message});Kn.warn(r.message)}}})}function Nb(t){return`${t.name}!${t.options.appId}`}var xV=1024,PV=30*24*60*60*1e3,km=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Fm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=PV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Kn.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Sb(),{heartbeatsToSend:r,unsentEntries:i}=OV(this._heartbeatsCache.heartbeats),s=wa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Kn.warn(n),""}})}};function Sb(){return new Date().toISOString().substring(0,10)}function OV(t,e=xV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Fm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return wm()?mb().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield NV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Rb(t){return wa(JSON.stringify({version:2,heartbeats:t})).length}function kV(t){xr(new Gt("platform-logger",e=>new Mm(e),"PRIVATE")),xr(new Gt("heartbeat",e=>new km(e),"PRIVATE")),Ge(Nm,bb,t),Ge(Nm,bb,"esm2017"),Ge("fire-js","")}kV("");var FV="firebase",LV="10.13.2";Ge(FV,LV,"app");var Cs=new Un("ANGULARFIRE2_VERSION");function jm(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ca=(t,e)=>{let n=e?[e]:Kl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ba=class{constructor(){return Ca(VV)}},VV="app-check";function bs(){}var Ql=class{zone;delegate;constructor(e,n=Qh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Um=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs)),n.pipe(ke({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Aa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ql(Zone.current)),this.insideAngular=n.run(()=>new Ql(Zone.current,Kh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(q(fe))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function UV(t){return Yl().ngZone.runOutsideAngular(()=>t())}function ci(t){return Yl().ngZone.run(()=>t())}function jV(t){return BV(Yl())(t)}function BV(t){return function(n){return n=n.lift(new Um(t.ngZone)),n.pipe(ar(t.outsideAngular),or(t.insideAngular))}}var $V=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ci(()=>t.apply(void 0,r))},_t=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs))),r[s]=$V(r[s],n));let i=UV(()=>t.apply(this,r));if(!e)if(i instanceof ue){let s=Yl();return i.pipe(ar(s.outsideAngular),or(s.insideAngular))}else return ci(()=>i);return i instanceof ue?i.pipe(jV):i instanceof Promise?ci(()=>new Promise((s,o)=>i.then(a=>ci(()=>s(a)),a=>ci(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ci(()=>i)};var ui=class{constructor(e){return e}},Sa=class{constructor(){return Kl()}};function qV(t){return t&&t.length===1?t[0]:new ui(Ta())}var Bm=new j("angularfire2._apps"),HV={provide:ui,useFactory:qV,deps:[[new jt,Bm]]},zV={provide:Sa,deps:[[new jt,Bm]]};function GV(t){return(e,n)=>{let r=n.get(Nt);Ge("angularfire",Cs.full,"core"),Ge("angularfire",Cs.full,"app"),Ge("angular",T0.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ui(i)}}function xb(t,...e){return jn([HV,zV,{provide:Bm,useFactory:GV(t),multi:!0,deps:[fe,st,Aa,...e]}])}var Pb=_t(Vm,!0);function Bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $b=Bb,qb=new Wn("auth","Firebase",Bb());var ed=new Mr("@firebase/auth");function KV(t,...e){ed.logLevel<=oe.WARN&&ed.warn(`Auth (${Ts}): ${t}`,...e)}function Zl(t,...e){ed.logLevel<=oe.ERROR&&ed.error(`Auth (${Ts}): ${t}`,...e)}function Ob(t,...e){throw Xm(t,...e)}function Zm(t,...e){return Xm(t,...e)}function Hb(t,e,n){let r=Object.assign(Object.assign({},$b()),{[e]:n});return new Wn("auth","Firebase",r).create(e,{appName:t.name})}function Xl(t){return Hb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qb.create(t,...e)}function me(t,e,...n){if(!t)throw Xm(e,...n)}function Ra(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Zl(e),new Error(e)}function td(t,e){t||Ra(e)}function QV(){return kb()==="http:"||kb()==="https:"}function kb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function YV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QV()||fb()||"connection"in navigator)?navigator.onLine:!0}function JV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var di=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,td(n>e,"Short delay should be less than long delay!"),this.isMobile=db()||pb()}get(){return YV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ZV(t,e){td(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var nd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eU=new di(3e4,6e4);function zb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function od(s,o,a,u){return C(this,arguments,function*(t,e,n,r,i={}){return Gb(t,i,()=>C(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Em(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:m},l);return hb()||(I.referrerPolicy="no-referrer"),nd.fetch()(Wb(t,t.config.apiHost,n,p),I)}))})}function Gb(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},XV),e);try{let i=new Hm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Jl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Jl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Jl(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Hb(t,h,l);Ob(t,h)}}catch(i){if(i instanceof Ht)throw i;Ob(t,"network-request-failed",{message:String(i)})}})}function Wb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ZV(t.config,i):`${t.config.apiScheme}://${i}`}var Hm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zm(this.auth,"network-request-failed")),eU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Jl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Zm(t,e,r);return i.customData._tokenResponse=n,i}function tU(t,e){return C(this,null,function*(){return od(t,"POST","/v1/accounts:delete",e)})}function Kb(t,e){return C(this,null,function*(){return od(t,"POST","/v1/accounts:lookup",e)})}function Ma(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ey(t,e=!1){return C(this,null,function*(){let n=zt(t),r=yield n.getIdToken(e),i=Qb(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ma($m(i.auth_time)),issuedAtTime:Ma($m(i.iat)),expirationTime:Ma($m(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function $m(t){return Number(t)*1e3}function Qb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zl("JWT malformed, contained fewer than 3 sections"),null;try{let i=_m(n);return i?JSON.parse(i):(Zl("Failed to decode base64 JWT payload"),null)}catch(i){return Zl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Fb(t){let e=Qb(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zm(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ht&&nU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function nU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function rd(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield zm(t,Kb(n,{idToken:r}));me(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Yb(s.providerUserInfo):[],a=rU(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xa(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function ty(t){return C(this,null,function*(){let e=zt(t);yield rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function rU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yb(t){return t.map(e=>{var{providerId:n}=e,r=Yh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function iU(t,e){return C(this,null,function*(){let n=yield Gb(t,{},()=>C(this,null,function*(){let r=Em({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Wb(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function sU(t,e){return C(this,null,function*(){return od(t,"POST","/v2/accounts:revokeToken",zb(t,e))})}var Na=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");let n=Fb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield iU(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ra("not implemented")}};function Pr(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Pa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield zm(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ey(this,e)}reload(){return ty(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Ds(this.auth.app))return Promise.reject(Xl(this.auth));let e=yield this.getIdToken();return yield zm(this,tU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:ce,isAnonymous:Ne,providerData:X,stsTokenManager:E}=n;me(z&&E,e,"internal-error");let y=Na.fromJSON(this.name,E);me(typeof z=="string",e,"internal-error"),Pr(p,e.name),Pr(m,e.name),me(typeof ce=="boolean",e,"internal-error"),me(typeof Ne=="boolean",e,"internal-error"),Pr(I,e.name),Pr(S,e.name),Pr(N,e.name),Pr(M,e.name),Pr(F,e.name),Pr(G,e.name);let v=new t({uid:z,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:Ne,photoURL:S,phoneNumber:I,tenantId:N,stsTokenManager:y,createdAt:F,lastLoginAt:G});return X&&Array.isArray(X)&&(v.providerData=X.map(w=>Object.assign({},w))),M&&(v._redirectEventId=M),v}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new Na;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield rd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];me(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Yb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Na;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var Lb=new Map;function li(t){td(t instanceof Function,"Expected a class definition");let e=Lb.get(t);return e?(td(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lb.set(t,e),e)}var oU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wm=oU;function qm(t,e,n){return`firebase:${t}:${e}:${n}`}var id=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=qm(this.userKey,i.apiKey,s),this.fullPersistenceKey=qm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Pa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(li(Wm),e,r);let i=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||li(Wm),o=qm(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Pa._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function Vb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hU(e))return"Blackberry";if(fU(e))return"Webos";if(cU(e))return"Safari";if((e.includes("chrome/")||uU(e))&&!e.includes("edge/"))return"Chrome";if(dU(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aU(t=Ft()){return/firefox\//i.test(t)}function cU(t=Ft()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uU(t=Ft()){return/crios\//i.test(t)}function lU(t=Ft()){return/iemobile/i.test(t)}function dU(t=Ft()){return/android/i.test(t)}function hU(t=Ft()){return/blackberry/i.test(t)}function fU(t=Ft()){return/webos/i.test(t)}function Jb(t,e=[]){let n;switch(t){case"Browser":n=Vb(Ft());break;case"Worker":n=`${Vb(Ft())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}var Km=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function pU(n){return C(this,arguments,function*(t,e={}){return od(t,"GET","/v2/passwordPolicy",zb(t,e))})}var gU=6,Qm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ym=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sd(this),this.idTokenSubscription=new sd(this),this.beforeStateQueue=new Km(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield id.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield Kb(this,{idToken:e}),r=yield Pa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(Ds(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=JV()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Ds(this.app))return Promise.reject(Xl(this));let n=e?zt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Ds(this.app)?Promise.reject(Xl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ds(this.app)?Promise.reject(Xl(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(li(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield pU(this),n=new Qm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield sU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&li(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=yield id.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&KV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function mU(t){return zt(t)}var sd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yb(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yU={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vU(t){yU=t}function _U(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function IU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Q9=_U("rcb"),Y9=new di(3e4,6e4);var J9=new di(2e3,1e4);var Z9=10*60*1e3;var X9=new di(3e4,6e4);var e6=new di(5e3,15e3);var t6=encodeURIComponent("fac");var Ub="@firebase/auth",jb="1.7.9";var Jm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function wU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EU(t){xr(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jb(t)},l=new Ym(r,i,s,u);return IU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xr(new Gt("auth-internal",e=>{let n=mU(e.getProvider("auth").getImmediate());return(r=>new Jm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(Ub,jb,wU(t)),Ge(Ub,jb,"esm2017")}var DU=5*60,n6=ub("authIdTokenMaxAge")||DU;function TU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Zm("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",TU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EU("Browser");var Dj="auth";var ad=class{constructor(){return Ca(Dj)}};var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xb={};var Or,ny;(function(){var t;function e(E,y){function v(){}v.prototype=y.prototype,E.D=y.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(w,D,b){for(var _=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)_[Mn-2]=arguments[Mn];return y.prototype[D].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,v){v||(v=0);var w=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)w[D]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(D=0;16>D;++D)w[D]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=E.g[0],v=E.g[1],D=E.g[2];var b=E.g[3],_=y+(b^v&(D^b))+w[0]+3614090360&4294967295;y=v+(_<<7&4294967295|_>>>25),_=b+(D^y&(v^D))+w[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(v^b&(y^v))+w[2]+606105819&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(y^D&(b^y))+w[3]+3250441966&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(b^v&(D^b))+w[4]+4118548399&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(D^y&(v^D))+w[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(v^b&(y^v))+w[6]+2821735955&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(y^D&(b^y))+w[7]+4249261313&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(b^v&(D^b))+w[8]+1770035416&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(D^y&(v^D))+w[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(v^b&(y^v))+w[10]+4294925233&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(y^D&(b^y))+w[11]+2304563134&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(b^v&(D^b))+w[12]+1804603682&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(D^y&(v^D))+w[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=D+(v^b&(y^v))+w[14]+2792965006&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(y^D&(b^y))+w[15]+1236535329&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(D^b&(v^D))+w[1]+4129170786&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(y^v))+w[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(b^y))+w[11]+643717713&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(D^b))+w[0]+3921069994&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(v^D))+w[5]+3593408605&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(y^v))+w[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(b^y))+w[15]+3634488961&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(D^b))+w[4]+3889429448&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(v^D))+w[9]+568446438&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(y^v))+w[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(b^y))+w[3]+4107603335&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(D^b))+w[8]+1163531501&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^b&(v^D))+w[13]+2850285829&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(y^v))+w[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(b^y))+w[7]+1735328473&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(D^b))+w[12]+2368359562&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(v^D^b)+w[5]+4294588738&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^D)+w[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^v)+w[11]+1839030562&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^y)+w[14]+4259657740&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^b)+w[1]+2763975236&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^D)+w[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^v)+w[7]+4139469664&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^y)+w[10]+3200236656&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^b)+w[13]+681279174&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^D)+w[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^v)+w[3]+3572445317&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^y)+w[6]+76029189&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^b)+w[9]+3654602809&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^D)+w[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=D+(b^y^v)+w[15]+530742520&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^y)+w[2]+3299628645&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(D^(v|~b))+w[0]+4096336452&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~D))+w[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~v))+w[14]+2878612391&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~y))+w[5]+4237533241&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~b))+w[12]+1700485571&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~D))+w[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~v))+w[10]+4293915773&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~y))+w[1]+2240044497&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~b))+w[8]+1873313359&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~D))+w[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~v))+w[6]+2734768916&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~y))+w[13]+1309151649&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~b))+w[4]+4149444226&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~D))+w[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=D+(y^(b|~v))+w[2]+718787259&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var v=y-this.blockSize,w=this.B,D=this.h,b=0;b<y;){if(D==0)for(;b<=v;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(w[D++]=E.charCodeAt(b++),D==this.blockSize){i(this,w),D=0;break}}else for(;b<y;)if(w[D++]=E[b++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var v=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.u(E),E=Array(16),y=v=0;4>y;++y)for(var w=0;32>w;w+=8)E[v++]=this.g[y]>>>w&255;return E};function s(E,y){var v=a;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=y(E)}function o(E,y){this.h=y;for(var v=[],w=!0,D=E.length-1;0<=D;D--){var b=E[D]|0;w&&b==y||(v[D]=b,w=!1)}this.g=v}var a={};function u(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(l(-E));for(var y=[],v=1,w=0;E>=v;w++)y[w]=E/v|0,v*=4294967296;return new o(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return M(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(y,8)),w=p,D=0;D<E.length;D+=8){var b=Math.min(8,E.length-D),_=parseInt(E.substring(D,D+b),y);8>b?(b=l(Math.pow(y,b)),w=w.j(b).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var p=u(0),m=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-M(this).m();for(var E=0,y=1,v=0;v<this.g.length;v++){var w=this.i(v);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(N(this))return"-"+M(this).toString(E);for(var y=l(Math.pow(E,6)),v=this,w="";;){var D=ce(v,y).g;v=F(v,D.j(y));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=D,S(v))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=F(this,E),N(E)?-1:S(E)?0:1};function M(E){for(var y=E.g.length,v=[],w=0;w<y;w++)v[w]=~E.g[w];return new o(v,~E.h).add(m)}t.abs=function(){return N(this)?M(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0,D=0;D<=y;D++){var b=w+(this.i(D)&65535)+(E.i(D)&65535),_=(b>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=_>>>16,b&=65535,_&=65535,v[D]=_<<16|b}return new o(v,v[v.length-1]&-2147483648?-1:0)};function F(E,y){return E.add(M(y))}t.j=function(E){if(S(this)||S(E))return p;if(N(this))return N(E)?M(this).j(M(E)):M(M(this).j(E));if(N(E))return M(this.j(M(E)));if(0>this.l(I)&&0>E.l(I))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,v=[],w=0;w<2*y;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var b=this.i(w)>>>16,_=this.i(w)&65535,Mn=E.i(D)>>>16,Js=E.i(D)&65535;v[2*w+2*D]+=_*Js,G(v,2*w+2*D),v[2*w+2*D+1]+=b*Js,G(v,2*w+2*D+1),v[2*w+2*D+1]+=_*Mn,G(v,2*w+2*D+1),v[2*w+2*D+2]+=b*Mn,G(v,2*w+2*D+2)}for(w=0;w<y;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=y;w<2*y;w++)v[w]=0;return new o(v,0)};function G(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function z(E,y){this.g=E,this.h=y}function ce(E,y){if(S(y))throw Error("division by zero");if(S(E))return new z(p,p);if(N(E))return y=ce(M(E),y),new z(M(y.g),M(y.h));if(N(y))return y=ce(E,M(y)),new z(M(y.g),y.h);if(30<E.g.length){if(N(E)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var v=m,w=y;0>=w.l(E);)v=Ne(v),w=Ne(w);var D=X(v,1),b=X(w,1);for(w=X(w,2),v=X(v,2);!S(w);){var _=b.add(w);0>=_.l(E)&&(D=D.add(v),b=_),w=X(w,1),v=X(v,1)}return y=F(E,D.j(y)),new z(D,y)}for(D=p;0<=E.l(y);){for(v=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(v),_=b.j(y);N(_)||0<_.l(E);)v-=w,b=l(v),_=b.j(y);S(b)&&(b=m),D=D.add(b),E=F(E,_)}return new z(D,E)}t.A=function(E){return ce(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)&E.i(w);return new o(v,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)|E.i(w);return new o(v,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)^E.i(w);return new o(v,this.h^E.h)};function Ne(E){for(var y=E.g.length+1,v=[],w=0;w<y;w++)v[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(v,E.h)}function X(E,y){var v=y>>5;y%=32;for(var w=E.g.length-v,D=[],b=0;b<w;b++)D[b]=0<y?E.i(b+v)>>>y|E.i(b+v+1)<<32-y:E.i(b+v);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ny=Xb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Or=Xb.Integer=o}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qn={};var ry,iy,As,sy,Oa,ud,oy,ay,cy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function I(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,A){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return d.prototype[T].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,A=g.length||0;c.length=T+A;for(let O=0;O<A;O++)c[T+O]=g[O]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Ne=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function X(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let A=0;A<v.length;A++)f=v[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function b(c){a.setTimeout(()=>{throw c},0)}function _(){var c=uh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Mn{constructor(){this.h=this.g=null}add(d,f){let g=Js.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Js=new F(()=>new kS,c=>c.reset());class kS{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Zs,Xs=!1,uh=new Mn,M_=()=>{let c=a.Promise.resolve(void 0);Zs=()=>{c.then(FS)}};var FS=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){b(f)}var d=Js;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Xs=!1};function tr(){this.s=this.s,this.C=this.C}tr.prototype.s=!1,tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var LS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function eo(c,d){if(Xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{ce(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:VS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&eo.aa.h.call(this)}}S(eo,Xe);var VS={2:"touch",3:"pen",4:"mouse"};eo.prototype.h=function(){eo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var to="closure_listenable_"+(1e6*Math.random()|0),US=0;function jS(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++US,this.da=this.fa=!1}function uc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function lc(c){this.src=c,this.g={},this.h=0}lc.prototype.add=function(c,d,f,g,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=dh(c,d,g,T);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new jS(d,this.src,A,!!g,T),d.fa=f,c.push(d)),d};function lh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&(uc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function dh(c,d,f,g){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return T}return-1}var hh="closure_lm_"+(1e6*Math.random()|0),fh={};function N_(c,d,f,g,T){if(g&&g.once)return P_(c,d,f,g,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)N_(c,d[A],f,g,T);return null}return f=yh(f),c&&c[to]?c.K(d,f,l(g)?!!g.capture:!!g,T):x_(c,d,f,!1,g,T)}function x_(c,d,f,g,T,A){if(!d)throw Error("Invalid event type");var O=l(T)?!!T.capture:!!T,Ee=gh(c);if(Ee||(c[hh]=Ee=new lc(c)),f=Ee.add(d,f,g,O,A),f.proxy)return f;if(g=BS(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)LS||(T=O),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(k_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function BS(){function c(f){return d.call(c.src,c.listener,f)}let d=$S;return c}function P_(c,d,f,g,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)P_(c,d[A],f,g,T);return null}return f=yh(f),c&&c[to]?c.L(d,f,l(g)?!!g.capture:!!g,T):x_(c,d,f,!0,g,T)}function O_(c,d,f,g,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)O_(c,d[A],f,g,T);else g=l(g)?!!g.capture:!!g,f=yh(f),c&&c[to]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=dh(A,f,g,T),-1<f&&(uc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=gh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=dh(d,f,g,T)),(f=-1<c?d[c]:null)&&ph(f))}function ph(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[to])lh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(k_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=gh(d))?(lh(f,c),f.h==0&&(f.src=null,d[hh]=null)):uc(c)}}}function k_(c){return c in fh?fh[c]:fh[c]="on"+c}function $S(c,d){if(c.da)c=!0;else{d=new eo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&ph(c),c=f.call(g,d)}return c}function gh(c){return c=c[hh],c instanceof lc?c:null}var mh="__closure_events_fn_"+(1e9*Math.random()>>>0);function yh(c){return typeof c=="function"?c:(c[mh]||(c[mh]=function(d){return c.handleEvent(d)}),c[mh])}function et(){tr.call(this),this.i=new lc(this),this.M=this,this.F=null}S(et,tr),et.prototype[to]=!0,et.prototype.removeEventListener=function(c,d,f,g){O_(this,c,d,f,g)};function ut(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Xe(d,c);else if(d instanceof Xe)d.target=d.target||c;else{var T=d;d=new Xe(g,c),w(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];T=dc(O,g,!0,d)&&T}if(O=d.g=c,T=dc(O,g,!0,d)&&T,T=dc(O,g,!1,d)&&T,f)for(A=0;A<f.length;A++)O=d.g=f[A],T=dc(O,g,!1,d)&&T}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)uc(f[g]);delete c.g[d],c.h--}}this.F=null},et.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},et.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function dc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var Ee=O.listener,Ke=O.ha||O.src;O.fa&&lh(c.i,O),T=Ee.call(Ke,g)!==!1&&T}}return T&&!g.defaultPrevented}function F_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function L_(c){c.g=F_(()=>{c.g=null,c.i&&(c.i=!1,L_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class qS extends tr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:L_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(c){tr.call(this),this.h=c,this.g={}}S(no,tr);var V_=[];function U_(c){X(c.g,function(d,f){this.g.hasOwnProperty(f)&&ph(d)},c),c.g={}}no.prototype.N=function(){no.aa.N.call(this),U_(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vh=a.JSON.stringify,HS=a.JSON.parse,zS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function _h(){}_h.prototype.h=null;function j_(c){return c.h||(c.h=c.i())}function B_(){}var ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ih(){Xe.call(this,"d")}S(Ih,Xe);function wh(){Xe.call(this,"c")}S(wh,Xe);var jr={},$_=null;function hc(){return $_=$_||new et}jr.La="serverreachability";function q_(c){Xe.call(this,jr.La,c)}S(q_,Xe);function io(c){let d=hc();ut(d,new q_(d))}jr.STAT_EVENT="statevent";function H_(c,d){Xe.call(this,jr.STAT_EVENT,c),this.stat=d}S(H_,Xe);function lt(c){let d=hc();ut(d,new H_(d,c))}jr.Ma="timingevent";function z_(c,d){Xe.call(this,jr.Ma,c),this.size=d}S(z_,Xe);function so(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function GS(c,d,f,g,T,A){c.info(function(){if(c.g)if(A)for(var O="",Ee=A.split("&"),Ke=0;Ke<Ee.length;Ke++){var pe=Ee[Ke].split("=");if(1<pe.length){var tt=pe[0];pe=pe[1];var nt=tt.split("_");O=2<=nt.length&&nt[1]=="type"?O+(tt+"="+pe+"&"):O+(tt+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+O})}function WS(c,d,f,g,T,A,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+O})}function Ci(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+QS(c,f)+(g?" "+g:"")})}function KS(c,d){c.info(function(){return"TIMEOUT: "+d})}oo.prototype.info=function(){};function QS(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return vh(f)}catch{return d}}var fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Eh;function pc(){}S(pc,_h),pc.prototype.g=function(){return new XMLHttpRequest},pc.prototype.i=function(){return{}},Eh=new pc;function nr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new W_}function W_(){this.i=null,this.g="",this.h=!1}var K_={},Dh={};function Th(c,d,f){c.L=1,c.v=vc(Nn(d)),c.m=f,c.P=!0,Q_(c,null)}function Q_(c,d){c.F=Date.now(),gc(c),c.A=Nn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),uI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new W_,c.g=AI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new qS(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(V_[0]=T.toString()),T=V_);for(var A=0;A<T.length;A++){var O=N_(f,T[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),io(),GS(c.i,c.u,c.A,c.l,c.R,c.m)}nr.prototype.ca=function(c){c=c.target;let d=this.M;d&&xn(c)==3?d.j():this.Y(c)},nr.prototype.Y=function(c){try{if(c==this.g)e:{let nt=xn(this.g);var d=this.g.Ba();let Ri=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||mI(this.g)))){this.J||nt!=4||d==7||(d==8||0>=Ri?io(3):io(2)),bh(this);var f=this.g.Z();this.X=f;t:if(Y_(this)){var g=mI(this.g);c="";var T=g.length,A=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),ao(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,WS(this.i,this.u,this.A,this.l,this.R,nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ke=this.g;if((Ee=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ee)){var pe=Ee;break t}}pe=null}if(f=pe)Ci(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ch(this,f);else{this.o=!1,this.s=3,lt(12),Br(this),ao(this);break e}}if(this.P){f=!0;let Wt;for(;!this.J&&this.C<O.length;)if(Wt=YS(this,O),Wt==Dh){nt==4&&(this.s=4,lt(14),f=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==K_){this.s=4,lt(15),Ci(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Ci(this.i,this.l,Wt,null),Ch(this,Wt);if(Y_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||O.length!=0||this.h.h||(this.s=1,lt(16),f=!1),this.o=this.o&&f,!f)Ci(this.i,this.l,O,"[Invalid Chunked Response]"),Br(this),ao(this);else if(0<O.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),xh(tt),tt.M=!0,lt(11))}}else Ci(this.i,this.l,O,null),Ch(this,O);nt==4&&Br(this),this.o&&!this.J&&(nt==4?DI(this.j,this):(this.o=!1,gc(this)))}else fR(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Br(this),ao(this)}}}catch{}finally{}};function Y_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function YS(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Dh:(f=Number(d.substring(f,g)),isNaN(f)?K_:(g+=1,g+f>d.length?Dh:(d=d.slice(g,g+f),c.C=g+f,d)))}nr.prototype.cancel=function(){this.J=!0,Br(this)};function gc(c){c.S=Date.now()+c.I,J_(c,c.I)}function J_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=so(m(c.ba,c),d)}function bh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}nr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(KS(this.i,this.A),this.L!=2&&(io(),lt(17)),Br(this),this.s=2,ao(this)):J_(this,this.S-c)};function ao(c){c.j.G==0||c.J||DI(c.j,c)}function Br(c){bh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,U_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ch(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ah(f.h,c))){if(!c.K&&Ah(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Dc(f),wc(f);else break e;Nh(f),lt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=so(m(f.Za,f),6e3));if(1>=eI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else qr(f,11)}else if((c.K||f.g==c)&&Dc(f),!G(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let pe=T[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let tt=pe[3];tt!=null&&(f.la=tt,f.j.info("VER="+f.la));let nt=pe[4];nt!=null&&(f.Aa=nt,f.j.info("SVER="+f.Aa));let Ri=pe[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(g=1.5*Ri,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Wt=c.g;if(Wt){let bc=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var A=g.h;A.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Sh(A,A.h),A.h=null))}if(g.D){let Ph=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ph&&(g.ya=Ph,Ce(g.I,g.D,Ph))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=CI(g,g.J?g.ia:null,g.W),O.K){tI(g.h,O);var Ee=O,Ke=g.L;Ke&&(Ee.I=Ke),Ee.B&&(bh(Ee),gc(Ee)),g.g=O}else wI(g);0<f.i.length&&Ec(f)}else pe[0]!="stop"&&pe[0]!="close"||qr(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?qr(f,7):Mh(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}io(4)}catch{}}var JS=class{constructor(c,d){this.g=c,this.map=d}};function Z_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function X_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eI(c){return c.h?1:c.g?c.g.size:0}function Ah(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Sh(c,d){c.g?c.g.add(d):c.h=d}function tI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Z_.prototype.cancel=function(){if(this.i=nI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function nI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function ZS(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function XS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function rI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=XS(c),g=ZS(c),T=g.length,A=0;A<T;A++)d.call(void 0,g[A],f&&f[A],c)}var iI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var A=c[f].substring(0,g);T=c[f].substring(g+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,mc(this,c.j),this.o=c.o,this.g=c.g,yc(this,c.s),this.l=c.l;var d=c.i,f=new lo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),sI(this,f),this.m=c.m}else c&&(d=String(c).match(iI))?(this.h=!1,mc(this,d[1]||"",!0),this.o=co(d[2]||""),this.g=co(d[3]||"",!0),yc(this,d[4]),this.l=co(d[5]||"",!0),sI(this,d[6]||"",!0),this.m=co(d[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}$r.prototype.toString=function(){var c=[],d=this.j;d&&c.push(uo(d,oI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(uo(d,oI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(uo(f,f.charAt(0)=="/"?rR:nR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",uo(f,sR)),c.join("")};function Nn(c){return new $r(c)}function mc(c,d,f){c.j=f?co(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function yc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function sI(c,d,f){d instanceof lo?(c.i=d,oR(c.i,c.h)):(f||(d=uo(d,iR)),c.i=new lo(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function vc(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function co(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function uo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,tR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oI=/[#\/\?@]/g,nR=/[#\?:]/g,rR=/[#\?]/g,iR=/[#\?@]/g,sR=/#/g;function lo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&eR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=lo.prototype,t.add=function(c,d){rr(this),this.i=null,c=Ai(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function aI(c,d){rr(c),d=Ai(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function cI(c,d){return rr(c),d=Ai(c,d),c.g.has(d)}t.forEach=function(c,d){rr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){rr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let A=0;A<T.length;A++)f.push(d[g])}return f},t.V=function(c){rr(this);let d=[];if(typeof c=="string")cI(this,c)&&(d=d.concat(this.g.get(Ai(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return rr(this),this.i=null,c=Ai(this,c),cI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function uI(c,d,f){aI(c,d),0<f.length&&(c.i=null,c.g.set(Ai(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var T=A;O[g]!==""&&(T+="="+encodeURIComponent(String(O[g]))),c.push(T)}}return this.i=c.join("&")};function Ai(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function oR(c,d){d&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(aI(this,g),uI(this,T,f))},c)),c.j=d}function aR(c,d){let f=new oo;if(a.Image){let g=new Image;g.onload=I(ir,f,"TestLoadImage: loaded",!0,d,g),g.onerror=I(ir,f,"TestLoadImage: error",!1,d,g),g.onabort=I(ir,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(ir,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function cR(c,d){let f=new oo,g=new AbortController,T=setTimeout(()=>{g.abort(),ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(T),A.ok?ir(f,"TestPingServer: ok",!0,d):ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),ir(f,"TestPingServer: error",!1,d)})}function ir(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function uR(){this.g=new zS}function lR(c,d,f){let g=f||"";try{rI(c,function(T,A){let O=T;l(T)&&(O=vh(T)),d.push(g+A+"="+encodeURIComponent(O))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function ho(c){this.l=c.Ub||null,this.j=c.eb||!1}S(ho,_h),ho.prototype.g=function(){return new _c(this.l,this.j)},ho.prototype.i=function(c){return function(){return c}}({});function _c(c,d){et.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(_c,et),t=_c.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,po(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function lI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?fo(this):po(this),this.readyState==3&&lI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,fo(this))},t.Qa=function(c){this.g&&(this.response=c,fo(this))},t.ga=function(){this.g&&fo(this)};function fo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,po(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function po(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function dI(c){let d="";return X(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Rh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=dI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function xe(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(xe,et);var dR=/^https?$/i,hR=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Eh.g(),this.v=this.o?j_(this.o):j_(Eh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){hI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hR,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){hI(this,A)}};function hI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,fI(c),Ic(c)}function fI(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),Ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ic(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pI(this):this.bb())},t.bb=function(){pI(this)};function pI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)F_(c.Ea,0,c);else if(ut(c,"readystatechange"),xn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var T=String(c.D).match(iI)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!dR.test(T?T.toLowerCase():"")}f=g}if(f)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var A=2<xn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",fI(c)}}finally{Ic(c)}}}}function Ic(c,d){if(c.g){gI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ut(c,"ready");try{f.onreadystatechange=g}catch{}}}function gI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),HS(d)}};function mI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fR(c){let d={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function go(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function yI(c){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=go("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=go("baseRetryDelayMs",5e3,c),this.cb=go("retryDelaySeedMs",1e4,c),this.Wa=go("forwardChannelMaxRetries",2,c),this.wa=go("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Z_(c&&c.concurrentRequestLimit),this.Da=new uR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){lt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=CI(this,null,this.W),Ec(this)};function Mh(c){if(vI(c),c.G==3){var d=c.U++,f=Nn(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),mo(c,f),d=new nr(c,c.j,d),d.L=2,d.v=vc(Nn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=AI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),gc(d)}bI(c)}function wc(c){c.g&&(xh(c),c.g.cancel(),c.g=null)}function vI(c){wc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Dc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ec(c){if(!X_(c.h)&&!c.s){c.s=!0;var d=c.Ga;Zs||M_(),Xs||(Zs(),Xs=!0),uh.add(d,c),c.B=0}}function pR(c,d){return eI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=so(m(c.Ga,c,d),TI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new nr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=II(this,T,d),f=Nn(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),mo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(dI(A)))+"&"+d:this.m&&Rh(f,this.m,A)),Sh(this.h,T),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),T.T=!0,Th(T,f,null)):Th(T,f,d),this.G=2}}else this.G==3&&(c?_I(this,c):this.i.length==0||X_(this.h)||_I(this))};function _I(c,d){var f;d?f=d.l:f=c.U++;let g=Nn(c.I);Ce(g,"SID",c.K),Ce(g,"RID",f),Ce(g,"AID",c.T),mo(c,g),c.m&&c.o&&Rh(g,c.m,c.o),f=new nr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=II(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sh(c.h,f),Th(f,g,d)}function mo(c,d){c.H&&X(c.H,function(f,g){Ce(d,g,f)}),c.l&&rI({},function(f,g){Ce(d,g,f)})}function II(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=T[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let Ee=!0;for(let Ke=0;Ke<f;Ke++){let pe=T[Ke].g,tt=T[Ke].map;if(pe-=A,0>pe)A=Math.max(0,T[Ke].g-100),Ee=!1;else try{lR(tt,O,"req"+pe+"_")}catch{g&&g(tt)}}if(Ee){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function wI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Zs||M_(),Xs||(Zs(),Xs=!0),uh.add(d,c),c.v=0}}function Nh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=so(m(c.Fa,c),TI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,EI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=so(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),wc(this),EI(this))};function xh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function EI(c){c.g=new nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Nn(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),mo(c,d),c.m&&c.o&&Rh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=vc(Nn(d)),f.m=null,f.P=!0,Q_(f,c)}t.Za=function(){this.C!=null&&(this.C=null,wc(this),Nh(this),lt(19))};function Dc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function DI(c,d){var f=null;if(c.g==d){Dc(c),xh(c),c.g=null;var g=2}else if(Ah(c.h,d))f=d.D,tI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=hc(),ut(g,new z_(g,f)),Ec(c)}else wI(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&pR(c,d)||g==2&&Nh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function TI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function qr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new $r(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mc(g,"https"),vc(g),T?aR(g.toString(),f):cR(g.toString(),f)}else lt(2);c.G=0,c.l&&c.l.sa(d),bI(c),vI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function bI(c){if(c.G=0,c.ka=[],c.l){let d=nI(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function CI(c,d,f){var g=f instanceof $r?Nn(f):new $r(f);if(g.g!="")d&&(g.g=d+"."+g.g),yc(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new $r(null);g&&mc(A,g),d&&(A.g=d),T&&yc(A,T),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",c.la),mo(c,g),g}function AI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new ho({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function SI(){}t=SI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tc(){}Tc.prototype.g=function(c,d){return new It(c,d)};function It(c,d){et.call(this),this.g=new yI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Si(this)}S(It,et),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Mh(this.g)},It.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=vh(c),c=f);d.i.push(new JS(d.Ya++,c)),d.G==3&&Ec(d)},It.prototype.N=function(){this.g.l=null,delete this.j,Mh(this.g),delete this.g,It.aa.N.call(this)};function RI(c){Ih.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(RI,Ih);function MI(){wh.call(this),this.status=1}S(MI,wh);function Si(c){this.g=c}S(Si,SI),Si.prototype.ua=function(){ut(this.g,"a")},Si.prototype.ta=function(c){ut(this.g,new RI(c))},Si.prototype.sa=function(c){ut(this.g,new MI)},Si.prototype.ra=function(){ut(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,cy=Qn.createWebChannelTransport=function(){return new Tc},ay=Qn.getStatEventTarget=function(){return hc()},oy=Qn.Event=jr,ud=Qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fc.NO_ERROR=0,fc.TIMEOUT=8,fc.HTTP_ERROR=6,Oa=Qn.ErrorCode=fc,G_.COMPLETE="complete",sy=Qn.EventType=G_,B_.EventType=ro,ro.OPEN="a",ro.CLOSE="b",ro.ERROR="c",ro.MESSAGE="d",et.prototype.listen=et.prototype.K,As=Qn.WebChannel=B_,iy=Qn.FetchXmlHttpFactory=ho,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,ry=Qn.XhrIo=xe}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});var eC="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var Gs="10.13.2";var pi=new Mr("@firebase/firestore");function ka(){return pi.logLevel}function V(t,...e){if(pi.logLevel<=oe.DEBUG){let n=e.map(Yv);pi.debug(`Firestore (${Gs}): ${t}`,...n)}}function Jn(t,...e){if(pi.logLevel<=oe.ERROR){let n=e.map(Yv);pi.error(`Firestore (${Gs}): ${t}`,...n)}}function ks(t,...e){if(pi.logLevel<=oe.WARN){let n=e.map(Yv);pi.warn(`Firestore (${Gs}): ${t}`,...n)}}function Yv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: `+t;throw Jn(e),new Error(e)}function Te(t,e){t||W()}function Q(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var pd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},fy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},py=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},gy=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new pd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new We(e)}},my=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},yy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new my(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},vy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_y=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new vy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Tj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var gd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Tj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function Fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var md=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends md{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends md{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return bj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var Iy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Iy.UNKNOWN_ID=-1;function Cj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new gi(i,H.empty(),e)}function Aj(t){return new gi(t.readTime,t.key,-1)}var gi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Z.min(),H.empty(),-1)}static max(){return new t(Z.max(),H.empty(),-1)}};function Sj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var Rj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ec(t){return C(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==Rj)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Mj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tc(t){return t.name==="IndexedDbTransactionError"}var PC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function qd(t){return t==null}function Ba(t){return t===0&&1/t==-1/0}function Nj(t){return typeof t=="number"&&Number.isInteger(t)&&!Ba(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r5=[...xj,"documentOverlays"],Pj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Oj=Pj,kj=[...Oj,"indexConfiguration","indexState","indexEntries"];var i5=[...kj,"globals"];function tC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ns(this.root,e,this.comparator,!0)}},Ns=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yd(this.data.getIterator())}getIteratorFrom(e){return new yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Tn=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new at(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var vd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var Fj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zn(t){if(Te(!!t),typeof t=="string"){let e=0,n=Fj.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}function Jv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zv(t){let e=t.mapValue.fields.__previous_value__;return Jv(e)?Zv(e):e}function $a(t){let e=Zn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}var Ey=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},_d=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jv(t)?4:FC(t)?9007199254740991:kC(t)?10:11:W()}function Rn(t,e){if(t===e)return!0;let n=mi(t);if(n!==mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $a(t).isEqual($a(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Zn(i.timestampValue),a=Zn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fr(i.bytesValue).isEqual(Fr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?Ba(o)===Ba(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Fs(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tC(o)!==tC(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Rn(o[u],a[u])))return!1;return!0}(t,e);default:return W()}}function qa(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;let n=mi(t),r=mi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return nC(t.timestampValue,e.timestampValue);case 4:return nC($a(t),$a(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Fr(s),u=Fr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ge(a[l],u[l]);if(h!==0)return h}return ge(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ge(Se(s.latitude),Se(o.latitude));return a!==0?a:ge(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},I=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=ge(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:rC(I,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ld.mapValue&&o===ld.mapValue)return 0;if(s===ld.mapValue)return 1;if(o===ld.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ge(u[p],h[p]);if(m!==0)return m;let I=Ls(a[u[p]],l[h[p]]);if(I!==0)return I}return ge(u.length,h.length)}(t.mapValue,e.mapValue);default:throw W()}}function nC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=Zn(t),r=Zn(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function rC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ls(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function Vs(t){return Dy(t)}function Dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Dy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Dy(n.fields[o])}`;return i+"}"}(t.mapValue):W()}function iC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ty(t){return!!t&&"integerValue"in t}function Xv(t){return!!t&&"arrayValue"in t}function sC(t){return!!t&&"nullValue"in t}function oC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hd(t){return!!t&&"mapValue"in t}function kC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function La(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=La(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var sn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=La(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ws(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(La(this.value))}};function LC(t){let e=[];return Ws(t.fields,(n,r)=>{let i=new Lt([n]);if(hd(r)){let s=LC(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Tn(e)}var on=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Z.min(),Z.min(),Z.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Z.min(),Z.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Z.min(),Z.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Us=class{constructor(e,n){this.position=e,this.inclusive=n}};function aC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Ls(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}var yi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Lj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Id=class{},Be=class t extends Id{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cy(e,n,r):n==="array-contains"?new Ry(e,r):n==="in"?new My(e,r):n==="not-in"?new Ny(e,r):n==="array-contains-any"?new xy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ay(e,r):new Sy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&mi(this.value)===mi(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},an=class t extends Id{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return VC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function VC(t){return t.op==="and"}function UC(t){return Vj(t)&&VC(t)}function Vj(t){for(let e of t.filters)if(e instanceof an)return!1;return!0}function by(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(UC(t))return t.filters.map(e=>by(e)).join(",");{let e=t.filters.map(n=>by(n)).join(",");return`${t.op}(${e})`}}function jC(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Rn(r.value,i.value)}(t,e):t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jC(o,i.filters[a]),!0):!1}(t,e):void W()}function BC(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof an?function(n){return n.op.toString()+" {"+n.getFilters().map(BC).join(" ,")+"}"}(t):"Filter"}var Cy=class extends Be{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Ay=class extends Be{constructor(e,n){super(e,"in",n),this.keys=$C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Sy=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=$C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function $C(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Ry=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Xv(n)&&qa(n.arrayValue,this.value)}},My=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&qa(this.value.arrayValue,n)}},Ny=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!qa(this.value.arrayValue,n)}},xy=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qa(this.value.arrayValue,r))}};var Py=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function uC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Py(t,e,n,r,i,s,o)}function e_(t){let e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>by(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ue=n}return e.ue}function t_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cC(t.startAt,e.startAt)&&cC(t.endAt,e.endAt)}function Oy(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Lr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Uj(t,e,n,r,i,s,o,a){return new Lr(t,e,n,r,i,s,o,a)}function qC(t){return new Lr(t)}function lC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HC(t){return t.collectionGroup!==null}function Va(t){let e=Q(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(Lt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new yi(s,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new yi(Lt.keyField(),r))}return e.ce}function An(t){let e=Q(t);return e.le||(e.le=jj(e,Va(t))),e.le}function jj(t,e){if(t.limitType==="F")return uC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new yi(i.field,s)});let n=t.endAt?new Us(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Us(t.startAt.position,t.startAt.inclusive):null;return uC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ky(t,e){let n=t.filters.concat([e]);return new Lr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fy(t,e,n){return new Lr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return t_(An(t),An(e))&&t.limitType===e.limitType}function zC(t){return`${e_(An(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BC(i)).join(", ")}]`),qd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function zd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Va(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=aC(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Va(r),i)||r.endAt&&!function(o,a,u){let l=aC(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Va(r),i))}(t,e)}function Bj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GC(t){return(e,n)=>{let r=!1;for(let i of Va(t)){let s=$j(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $j(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ls(u,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var Vr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return OC(this.inner)}size(){return this.innerSize}};var qj=new Pe(H.comparator);function Xn(){return qj}var WC=new Pe(H.comparator);function Fa(...t){let e=WC;for(let n of t)e=e.insert(n.key,n);return e}function KC(t){let e=WC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hi(){return Ua()}function QC(){return Ua()}function Ua(){return new Vr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Hj=new Pe(H.comparator),zj=new at(H.comparator);function ae(...t){let e=zj;for(let n of t)e=e.add(n);return e}var Gj=new at(ge);function Wj(){return Gj}function n_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ba(e)?"-0":e}}function YC(t){return{integerValue:""+t}}function Kj(t,e){return Nj(e)?YC(e):n_(t,e)}var js=class{constructor(){this._=void 0}};function Qj(t,e,n){return t instanceof Bs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jv(s)&&(s=Zv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vi?ZC(t,e):t instanceof _i?XC(t,e):function(i,s){let o=JC(i,s),a=dC(o)+dC(i.Pe);return Ty(o)&&Ty(i.Pe)?YC(a):n_(i.serializer,a)}(t,e)}function Yj(t,e,n){return t instanceof vi?ZC(t,e):t instanceof _i?XC(t,e):n}function JC(t,e){return t instanceof $s?function(r){return Ty(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Bs=class extends js{},vi=class extends js{constructor(e){super(),this.elements=e}};function ZC(t,e){let n=eA(e);for(let r of t.elements)n.some(i=>Rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var _i=class extends js{constructor(e){super(),this.elements=e}};function XC(t,e){let n=eA(e);for(let r of t.elements)n=n.filter(i=>!Rn(i,r));return{arrayValue:{values:n}}}var $s=class extends js{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function dC(t){return Se(t.integerValue||t.doubleValue)}function eA(t){return Xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Jj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vi&&i instanceof vi||r instanceof _i&&i instanceof _i?Fs(r.elements,i.elements,Rn):r instanceof $s&&i instanceof $s?Rn(r.Pe,i.Pe):r instanceof Bs&&i instanceof Bs}(t.transform,e.transform)}var Ly=class{constructor(e,n){this.version=e,this.transformResults=n}},Yn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var qs=class{};function tA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ha(t.key,Yn.none()):new Ii(t.key,t.data,Yn.none());{let n=t.data,r=sn.empty(),i=new at(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new er(t.key,r,new Tn(i.toArray()),Yn.none())}}function Zj(t,e,n){t instanceof Ii?function(i,s,o){let a=i.value.clone(),u=fC(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof er?function(i,s,o){if(!fd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=fC(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(nA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ja(t,e,n,r){return t instanceof Ii?function(s,o,a,u){if(!fd(s.precondition,o))return a;let l=s.value.clone(),h=pC(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof er?function(s,o,a,u){if(!fd(s.precondition,o))return a;let l=pC(s.fieldTransforms,u,o),h=o.data;return h.setAll(nA(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return fd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Xj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=JC(r.transform,i||null);s!=null&&(n===null&&(n=sn.empty()),n.set(r.field,s))}return n||null}function hC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fs(r,i,(s,o)=>Jj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ii=class extends qs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},er=class extends qs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function fC(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Yj(o,a,n[i]))}return r}function pC(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Qj(s,o,e))}return r}var Ha=class extends qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Vy=class extends qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Uy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Zj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=QC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=tA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,r)=>hC(n,r))&&Fs(this.baseMutations,e.baseMutations,(n,r)=>hC(n,r))}},jy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return Hj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var By=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $y=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,de;function e2(t){switch(t){default:return W();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function rA(t){if(t===void 0)return Jn("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ue.OK:return R.OK;case Ue.CANCELLED:return R.CANCELLED;case Ue.UNKNOWN:return R.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return R.INTERNAL;case Ue.UNAVAILABLE:return R.UNAVAILABLE;case Ue.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ue.NOT_FOUND:return R.NOT_FOUND;case Ue.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ue.ABORTED:return R.ABORTED;case Ue.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ue.DATA_LOSS:return R.DATA_LOSS;default:return W()}}(de=Ue||(Ue={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var gC=null;function t2(){return new TextEncoder}var n2=new Or([4294967295,4294967295],0);function mC(t){let e=t2().encode(t),n=new ny;return n.update(e),new Uint8Array(n.digest())}function yC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Or([n,r],0),new Or([i,s],0)]}var qy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fi(`Invalid padding: ${n}`);if(r<0)throw new fi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Or.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Or.fromNumber(r)));return i.compare(n2)===1&&(i=new Or([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=mC(e),[r,i]=yC(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=mC(e),[r,i]=yC(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},fi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,za.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Z.min(),i,new Pe(ge),Xn(),ae())}},za=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ae(),ae(),ae())}};var Ps=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ed=class{constructor(e,n){this.targetId=e,this.me=n}},Dd=class{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Td=class{constructor(){this.fe=0,this.ge=_C(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ae(),n=ae(),r=ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new za(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=_C()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Hy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xn(),this.qe=vC(),this.Qe=new Pe(ge)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Oy(s))if(r===0){let o=new H(s.path);this.Ue(n,o,on.newNoDocument(o,Z.min()))}else Te(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}gC?.et(function(h,p,m,I,S){var N,M,F,G,z,ce;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},X=p.unchangedNames;return X&&(Ne.bloomFilter={applied:S===0,hashCount:(N=X?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(G=(F=(M=X?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&G!==void 0?G:0,padding:(ce=(z=X?.bits)===null||z===void 0?void 0:z.padding)!==null&&ce!==void 0?ce:0,mightContain:E=>{var y;return(y=I?.mightContain(E))!==null&&y!==void 0&&y}}),Ne}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Fr(r).toUint8Array()}catch(u){if(u instanceof vd)return ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new qy(o,i,s)}catch(u){return ks(u instanceof fi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Oy(a.target)){let u=new H(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,on.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ae();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new wd(e,n,this.Qe,this.ke,r);return this.ke=Xn(),this.qe=vC(),this.Qe=new Pe(ge),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Td,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(ge),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Td),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function vC(){return new Pe(H.comparator)}function _C(){return new Pe(H.comparator)}var r2={asc:"ASCENDING",desc:"DESCENDING"},i2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s2={and:"AND",or:"OR"},zy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Gy(t,e){return t.useProto3Json||qd(e)?e:{value:e}}function bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o2(t,e){return bd(t,e.toTimestamp())}function Sn(t){return Te(!!t),Z.fromTimestamp(function(n){let r=Zn(n);return new Ze(r.seconds,r.nanos)}(t))}function r_(t,e){return Wy(t,e).canonicalString()}function Wy(t,e){let n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sA(t){let e=Me.fromString(t);return Te(lA(e)),e}function Ky(t,e){return r_(t.databaseId,e.path)}function uy(t,e){let n=sA(e);if(n.get(1)!==t.databaseId.projectId)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(aA(n))}function oA(t,e){return r_(t.databaseId,e)}function a2(t){let e=sA(t);return e.length===4?Me.emptyPath():aA(e)}function Qy(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aA(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function IC(t,e,n){return{name:Ky(t,e),fields:n.value.mapValue.fields}}function c2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),ct.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?R.UNKNOWN:rA(l.code);return new L(h,l.message||"")}(o);n=new Dd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=uy(t,r.document.name),s=Sn(r.document.updateTime),o=r.document.createTime?Sn(r.document.createTime):Z.min(),a=new sn({mapValue:{fields:r.document.fields}}),u=on.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ps(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=uy(t,r.document),s=r.readTime?Sn(r.readTime):Z.min(),o=on.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ps([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=uy(t,r.document),s=r.removedTargetIds||[];n=new Ps([],s,i,null)}else{if(!("filter"in e))return W();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new $y(i,s),a=r.targetId;n=new Ed(a,o)}}return n}function u2(t,e){let n;if(e instanceof Ii)n={update:IC(t,e.key,e.value)};else if(e instanceof Ha)n={delete:Ky(t,e.key)};else if(e instanceof er)n={update:IC(t,e.key,e.data),updateMask:v2(e.fieldMask)};else{if(!(e instanceof Vy))return W();n={verify:Ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Bs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _i)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $s)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:o2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W()}(t,e.precondition)),n}function l2(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Sn(i.updateTime):Sn(s);return o.isEqual(Z.min())&&(o=Sn(s)),new Ly(o,i.transformResults||[])}(n,e))):[]}function d2(t,e){return{documents:[oA(t,e.path)]}}function h2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oA(t,i);let s=function(l){if(l.length!==0)return uA(an.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Rs(m.field),direction:g2(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Gy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function f2(t){let e=a2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=cA(p);return m instanceof an&&UC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new yi(Ms(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,qd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,I=p.values||[];return new Us(I,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,I=p.values||[];return new Us(I,m)}(n.endAt)),Uj(e,i,o,s,a,"F",u,l)}function p2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ms(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ms(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ms(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ms(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(Ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return an.create(n.compositeFilter.filters.map(r=>cA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function g2(t){return r2[t]}function m2(t){return i2[t]}function y2(t){return s2[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ms(t){return Lt.fromServerFormat(t.fieldPath)}function uA(t){return t instanceof Be?function(n){if(n.op==="=="){if(oC(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(sC(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oC(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(sC(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:m2(n.op),value:n.value}}}(t):t instanceof an?function(n){let r=n.getFilters().map(i=>uA(i));return r.length===1?r[0]:{compositeFilter:{op:y2(n.op),filters:r}}}(t):W()}function v2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ga=class t{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Yy=class{constructor(e){this.ct=e}};function _2(t){let e=f2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fy(e,e.limit,"L"):e}var Cd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ba(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Zn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Fr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?FC(e)?this.dt(n,Number.MAX_SAFE_INTEGER):kC(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):W()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Cd.vt=new Cd;var Jy=class{constructor(){this.un=new Zy}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(gi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Zy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Me.comparator)).toArray()}};var o5=new Uint8Array(0);var Dn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(41943040,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);var Wa=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Xy=class{constructor(){this.changes=new Vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ev=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var tv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ja(r.mutation,i,Tn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){let i=hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xn(),o=Ua(),a=function(){return Ua()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof er)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),ja(h.mutation,l,h.mutation.getFieldMask(),Ze.now())):o.set(l.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new ev(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ua(),i=new Pe((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Tn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=QC();h.forEach(m=>{if(!s.has(m)){let I=tA(n.get(m),r.get(m));I!==null&&p.set(m,I),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(hi()),a=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ae())).next(h=>({batchId:a,changes:KC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Fa();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Lr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,on.newInvalidDocument(h)))});let a=Fa();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&ja(h.mutation,l,Tn.empty(),Ze.now()),zd(n,l)&&(a=a.insert(u,l))}),a})}};var nv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_2(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),P.resolve()}};var rv=class{constructor(){this.overlays=new Pe(H.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=hi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=hi(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=hi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=hi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new By(n,r));let s=this.Ir.get(n);s===void 0&&(s=ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var iv=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Ka=class{constructor(){this.Tr=new at(je.Er),this.dr=new at(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new Me([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new Me([])),r=new je(n,e),i=new je(n,e+1),s=ae();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||H.comparator(e.key,n.key)}};var sv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(je.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Uy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(ge);return n.forEach(i=>{let s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new je(new H(s),0),a=new at(ge);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new je(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ov=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():on.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xn(),o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Sj(Aj(h),r)<=0||(i.has(h.key)||zd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new av(this)}getSize(e){return P.resolve(this.size)}},av=class extends Xy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var cv=class{constructor(e){this.persistence=e,this.Nr=new Vr(n=>e_(n),t_),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ka,this.targetCount=0,this.kr=Wa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Wa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var uv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new PC(0),this.Kr=!1,this.Kr=!0,this.$r=new iv,this.referenceDelegate=e(this),this.Ur=new cv(this),this.indexManager=new Jy,this.remoteDocumentCache=function(i){return new ov(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Yy(n),this.Gr=new nv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new sv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new lv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},lv=class extends wy{constructor(e){super(),this.currentSequenceNumber=e}},dv=class t{constructor(e){this.persistence=e,this.Jr=new Ka,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw W()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var hv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ae(),i=ae();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var fv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var pv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gb()?8:Mj(Ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new fv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ka()<=oe.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(ka()<=oe.DEBUG&&V("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ka()<=oe.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):P.resolve())}Yi(e,n){if(lC(n))return P.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fy(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ae(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Fy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return lC(n)||i.isEqual(Z.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(ka()<=oe.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ss(n)),this.rs(e,o,n,Cj(i,-1)).next(a=>a))})}ts(e,n){let r=new at(GC(e));return n.forEach((i,s)=>{zd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ka()<=oe.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.Ji.getDocumentsMatchingQuery(e,n,gi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var gv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(ge),this._s=new Vr(s=>e_(s),t_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function I2(t,e,n,r){return new gv(t,e,n,r)}function dA(t,e){return C(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ae();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function w2(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),I=P.resolve();return m.forEach(S=>{I=I.next(()=>h.getEntry(u,S)).next(N=>{let M=l.docVersions.get(S);Te(M!==null),N.version.compareTo(M)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hA(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function E2(t,e){let n=Q(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let I=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(ct.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(p,I),function(N,M,F){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,I,h)&&a.push(n.Ur.updateTargetData(s,I))});let u=Xn(),l=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(D2(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(Z.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function D2(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function T2(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function b2(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ga(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function mv(t,e,n){return C(this,null,function*(){let r=Q(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!tc(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function wC(t,e,n){let r=Q(t),i=Z.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Q(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:ae())).next(a=>(C2(r,Bj(e),a),{documents:a,Ts:s})))}function C2(t,e,n){let r=t.us.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Ad=class{constructor(){this.activeTargetIds=Wj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yv=class{constructor(){this.so=new Ad,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ad,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vv=class{_o(e){}shutdown(){}};var Sd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var dd=null;function ly(){return dd===null?dd=function(){return 268435456+Math.round(2147483648*Math.random())}():dd++,"0x"+dd.toString(16)}var A2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var _v=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",Iv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=ly(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(V("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ks("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=A2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=ly();return new Promise((o,a)=>{let u=new ry;u.setWithCredentials(!0),u.listenOnce(sy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Oa.NO_ERROR:let h=u.getResponseJson();V(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Oa.TIMEOUT:V(ot,`RPC '${e}' ${s} timed out`),a(new L(R.DEADLINE_EXCEEDED,"Request time out"));break;case Oa.HTTP_ERROR:let p=u.getStatus();if(V(ot,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let I=m?.error;if(I&&I.status&&I.message){let S=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(I.status);a(new L(S,I.message))}else a(new L(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(R.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{V(ot,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(ot,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ly(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cy(),a=ay(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new iy({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");V(ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,I=!1,S=new _v({Io:M=>{I?V(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(V(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(ot,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),N=(M,F,G)=>{M.listen(F,z=>{try{G(z)}catch(ce){setTimeout(()=>{throw ce},0)}})};return N(p,As.EventType.OPEN,()=>{I||(V(ot,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,As.EventType.CLOSE,()=>{I||(I=!0,V(ot,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,As.EventType.ERROR,M=>{I||(I=!0,ks(ot,`RPC '${e}' stream ${i} transport errored:`,M),S.So(new L(R.UNAVAILABLE,"The operation could not be completed")))}),N(p,As.EventType.MESSAGE,M=>{var F;if(!I){let G=M.data[0];Te(!!G);let z=G,ce=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(ce){V(ot,`RPC '${e}' stream ${i} received error:`,ce);let Ne=ce.status,X=function(v){let w=Ue[v];if(w!==void 0)return rA(w)}(Ne),E=ce.message;X===void 0&&(X=R.INTERNAL,E="Unknown error status: "+Ne+" with message "+ce.message),I=!0,S.So(new L(X,E)),p.close()}else V(ot,`RPC '${e}' stream ${i} received:`,G),S.bo(G)}}),N(a,oy.STAT_EVENT,M=>{M.stat===ud.PROXY?V(ot,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===ud.NOPROXY&&V(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function dy(){return typeof document<"u"?document:null}function Gd(t){return new zy(t,!0)}var Rd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Md=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Rd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},wv=class extends Md{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=c2(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Sn(o.readTime):Z.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Qy(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Oy(u)?{documents:d2(s,u)}:{query:h2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iA(s,o.resumeToken);let l=Gy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=bd(s,o.snapshotVersion.toTimestamp());let l=Gy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=p2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Qy(this.serializer),n.removeTarget=e,this.a_(n)}},Ev=class extends Md{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=l2(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Qy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>u2(this.serializer,r))};this.a_(n)}};var Dv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Wy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Wy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Tv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jn(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var bv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>C(this,null,function*(){Ti(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=Q(u);l.L_.add(4),yield nc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Wd(l)})}(this))}))}),this.q_=new Tv(r,i)}};function Wd(t){return C(this,null,function*(){if(Ti(t))for(let e of t.B_)yield e(!0)})}function nc(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function fA(t,e){let n=Q(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),a_(n)?o_(n):Ks(n).r_()&&s_(n,e))}function i_(t,e){let n=Q(t),r=Ks(n);n.N_.delete(e),r.r_()&&pA(n,e),n.N_.size===0&&(r.r_()?r.o_():Ti(n)&&n.q_.set("Unknown"))}function s_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ks(t).A_(e)}function pA(t,e){t.Q_.xe(e),Ks(t).R_(e)}function o_(t){t.Q_=new Hy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ks(t).start(),t.q_.v_()}function a_(t){return Ti(t)&&!Ks(t).n_()&&t.N_.size>0}function Ti(t){return Q(t).L_.size===0}function gA(t){t.Q_=void 0}function S2(t){return C(this,null,function*(){t.q_.set("Online")})}function R2(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{s_(t,e)})})}function M2(t,e){return C(this,null,function*(){gA(t),a_(t)?(t.q_.M_(e),o_(t)):t.q_.set("Unknown")})}function N2(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof Dd&&e.state===2&&e.cause)try{yield function(i,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Nd(t,r)}else if(e instanceof Ps?t.Q_.Ke(e):e instanceof Ed?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Z.min()))try{let r=yield hA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),pA(s,u);let p=new Ga(h.target,u,l,h.sequenceNumber);s_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield Nd(t,r)}})}function Nd(t,e,n){return C(this,null,function*(){if(!tc(e))throw e;t.L_.add(1),yield nc(t),t.q_.set("Offline"),n||(n=()=>hA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Wd(t)}))})}function mA(t,e){return e().catch(n=>Nd(t,n,e))}function Kd(t){return C(this,null,function*(){let e=Q(t),n=Ur(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;x2(e);)try{let i=yield T2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,P2(e,i)}catch(i){yield Nd(e,i)}yA(e)&&vA(e)})}function x2(t){return Ti(t)&&t.O_.length<10}function P2(t,e){t.O_.push(e);let n=Ur(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yA(t){return Ti(t)&&!Ur(t).n_()&&t.O_.length>0}function vA(t){Ur(t).start()}function O2(t){return C(this,null,function*(){Ur(t).p_()})}function k2(t){return C(this,null,function*(){let e=Ur(t);for(let n of t.O_)e.m_(n.mutations)})}function F2(t,e,n){return C(this,null,function*(){let r=t.O_.shift(),i=jy.from(r,e,n);yield mA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Kd(t)})}function L2(t,e){return C(this,null,function*(){e&&Ur(t).V_&&(yield function(r,i){return C(this,null,function*(){if(function(o){return e2(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();Ur(r).s_(),yield mA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Kd(r)}})}(t,e)),yA(t)&&vA(t)})}function EC(t,e){return C(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Ti(n);n.L_.add(3),yield nc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Wd(n)})}function V2(t,e){return C(this,null,function*(){let n=Q(t);e?(n.L_.delete(2),yield Wd(n)):e||(n.L_.add(2),yield nc(n),n.q_.set("Unknown"))})}function Ks(t){return t.K_||(t.K_=function(n,r,i){let s=Q(n);return s.w_(),new wv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:S2.bind(null,t),Ro:R2.bind(null,t),mo:M2.bind(null,t),d_:N2.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),a_(t)?o_(t):t.q_.set("Unknown")):(yield t.K_.stop(),gA(t))}))),t.K_}function Ur(t){return t.U_||(t.U_=function(n,r,i){let s=Q(n);return s.w_(),new Ev(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:O2.bind(null,t),mo:L2.bind(null,t),f_:k2.bind(null,t),g_:F2.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.U_.s_(),yield Kd(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Cv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function c_(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),tc(t))return new L(R.UNAVAILABLE,`${e}: ${t}`);throw t}var xd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Fa(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Pd=class{constructor(){this.W_=new Pe(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):W():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Hs=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,xd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Av=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Sv=class{constructor(){this.queries=DC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Q(n),s=i.queries;i.queries=DC(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(R.ABORTED,"Firestore shutting down"))}};function DC(){return new Vr(t=>zC(t),Hd)}function U2(t,e){return C(this,null,function*(){let n=Q(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Av,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=c_(o,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&u_(n)})}function j2(t,e){return C(this,null,function*(){let n=Q(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function B2(t,e){let n=Q(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&u_(n)}function $2(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function u_(t){t.Y_.forEach(e=>{e.next()})}var Rv,TC;(TC=Rv||(Rv={})).ea="default",TC.Cache="cache";var Mv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rv.Cache}};var Od=class{constructor(e){this.key=e}},kd=class{constructor(e){this.key=e}},Nv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=GC(e),this.Ra=new xd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Pd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),I=zd(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),M=!1;m&&I?m.data.isEqual(I.data)?S!==N&&(r.track({type:3,doc:I}),M=!0):this.ga(m,I)||(r.track({type:2,doc:I}),M=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(a=!0)):!m&&I?(r.track({type:0,doc:I}),M=!0):m&&!I&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(I?(o=o.add(I),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(I,S){let N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return N(I)-N(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Hs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Pd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new kd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Od(r))}),n}ba(e){this.Ta=e.Ts,this.da=ae();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Hs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},xv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Pv=class{constructor(e){this.key=e,this.va=!1}},Ov=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Vr(a=>zC(a),Hd),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(H.comparator),this.Na=new Map,this.La=new Ka,this.Ba={},this.ka=new Map,this.qa=Wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function q2(t,e,n=!0){return C(this,null,function*(){let r=TA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield _A(r,e,n,!0),i})}function H2(t,e){return C(this,null,function*(){let n=TA(t);yield _A(n,e,!0,!1)})}function _A(t,e,n,r){return C(this,null,function*(){let i=yield b2(t.localStore,An(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield z2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fA(t.remoteStore,i),a})}function z2(t,e,n,r,i){return C(this,null,function*(){t.Ka=(p,m,I)=>function(N,M,F,G){return C(this,null,function*(){let z=M.view.ma(F);z.ns&&(z=yield wC(N.localStore,M.query,!1).then(({documents:E})=>M.view.ma(E,z)));let ce=G&&G.targetChanges.get(M.targetId),Ne=G&&G.targetMismatches.get(M.targetId)!=null,X=M.view.applyChanges(z,N.isPrimaryClient,ce,Ne);return CC(N,M.targetId,X.wa),X.snapshot})}(t,p,m,I);let s=yield wC(t.localStore,e,!0),o=new Nv(e,s.Ts),a=o.ma(s.documents),u=za.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);CC(t,n,l.wa);let h=new xv(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function G2(t,e,n){return C(this,null,function*(){let r=Q(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Hd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&i_(r.remoteStore,i.targetId),kv(r,i.targetId)}).catch(ec))):(kv(r,i.targetId),yield mv(r.localStore,i.targetId,!0))})}function W2(t,e){return C(this,null,function*(){let n=Q(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i_(n.remoteStore,r.targetId))})}function K2(t,e,n){return C(this,null,function*(){let r=tB(t);try{let i=yield function(o,a){let u=Q(o),l=Ze.now(),h=a.reduce((I,S)=>I.add(S.key),ae()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=Xn(),N=ae();return u.cs.getEntries(I,h).next(M=>{S=M,S.forEach((F,G)=>{G.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(M=>{p=M;let F=[];for(let G of a){let z=Xj(G,p.get(G.key).overlayedDocument);z!=null&&F.push(new er(G.key,z,LC(z.value.mapValue),Yn.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,F,a)}).next(M=>{m=M;let F=M.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(I,M.batchId,F)})}).then(()=>({batchId:m.batchId,changes:KC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Pe(ge)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield rc(r,i.changes),yield Kd(r.remoteStore)}catch(i){let s=c_(i,"Failed to persist write");n.reject(s)}})}function IA(t,e){return C(this,null,function*(){let n=Q(t);try{let r=yield E2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Te(o.va):i.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),yield rc(n,r,e)}catch(r){yield ec(r)}})}function bC(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Q(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&u_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Q2(t,e,n){return C(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pe(H.comparator);o=o.insert(s,on.newNoDocument(s,Z.min()));let a=ae().add(s),u=new wd(Z.min(),new Map,new Pe(ge),o,a);yield IA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),l_(r)}else yield mv(r.localStore,e,!1).then(()=>kv(r,e,n)).catch(ec)})}function Y2(t,e){return C(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield w2(n.localStore,e);EA(n,r,null),wA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield rc(n,i)}catch(i){yield ec(i)}})}function J2(t,e,n){return C(this,null,function*(){let r=Q(t);try{let i=yield function(o,a){let u=Q(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);EA(r,e,n),wA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield rc(r,i)}catch(i){yield ec(i)}})}function wA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function EA(t,e,n){let r=Q(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function kv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||DA(t,r)})}function DA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(i_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),l_(t))}function CC(t,e,n){for(let r of n)r instanceof Od?(t.La.addReference(r.key,e),Z2(t,r)):r instanceof kd?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||DA(t,r.key)):W()}function Z2(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),l_(t))}function l_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new Pv(n)),t.Oa=t.Oa.insert(n,r),fA(t.remoteStore,new Ga(An(qC(n.path)),r,"TargetPurposeLimboResolution",PC.oe))}}function rc(t,e,n){return C(this,null,function*(){let r=Q(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=hv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return C(this,null,function*(){let h=Q(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,I=>h.persistence.referenceDelegate.addReference(p,m.targetId,I)).next(()=>P.forEach(m.Ui,I=>h.persistence.referenceDelegate.removeReference(p,m.targetId,I)))))}catch(p){if(!tc(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let I=h.os.get(m),S=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function X2(t,e){return C(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield dA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rc(n,r.hs)}})}function eB(t,e){let n=Q(t),r=n.Na.get(e);if(r&&r.va)return ae().add(r.key);{let i=ae(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function TA(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q2.bind(null,e),e.Ca.d_=B2.bind(null,e.eventManager),e.Ca.$a=$2.bind(null,e.eventManager),e}function tB(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J2.bind(null,e),e}var Fd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return I2(this.persistence,new pv,e.initialUser,this.serializer)}createPersistence(e){return new uv(dv.Zr,this.serializer)}createSharedClientState(e){return new yv}terminate(){return C(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Fv=class{initialize(e,n){return C(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X2.bind(null,this.syncEngine),yield V2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Sv}()}createDatastore(e){let n=Gd(e.databaseInfo.databaseId),r=function(s){return new Iv(s)}(e.databaseInfo);return function(s,o,a,u){return new Dv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new bv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bC(this.syncEngine,n,0),function(){return Sd.D()?new Sd:new vv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new Ov(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return C(this,null,function*(){var e,n;yield function(i){return C(this,null,function*(){let s=Q(i);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield nc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Lv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Vv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=gd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>C(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=c_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function hy(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield dA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function AC(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield rB(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>EC(e.remoteStore,i)),t._onlineComponents=e})}function nB(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function rB(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!nB(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),yield hy(t,new Fd)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield hy(t,new Fd);return t._offlineComponents})}function bA(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield AC(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield AC(t,new Fv))),t._onlineComponents})}function iB(t){return bA(t).then(e=>e.syncEngine)}function sB(t){return C(this,null,function*(){let e=yield bA(t),n=e.eventManager;return n.onListen=q2.bind(null,e.syncEngine),n.onUnlisten=G2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W2.bind(null,e.syncEngine),n})}function oB(t,e,n={}){let r=new bn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,u,l){let h=new Lv({next:m=>{o.enqueueAndForget(()=>j2(s,p)),m.fromCache&&u.source==="server"?l.reject(new L(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Mv(a,h,{includeMetadataChanges:!0,_a:!0});return U2(s,p)}(yield sB(t),t.asyncQueue,e,n,r)})),r.promise}function CA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var SC=new Map;function AA(t,e,n){if(!n)throw new L(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aB(t,e,n,r){if(e===!0&&r===!0)throw new L(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RC(t){if(!H.isDocumentKey(t))throw new L(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MC(t){if(H.isDocumentKey(t))throw new L(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Qd(t);throw new L(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ld=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},zs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ld({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ld(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fy;switch(r.type){case"firstParty":return new yy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=SC.get(n);r&&(V("ComponentProvider","Removing Datastore"),SC.delete(n),r.terminate())}(this),Promise.resolve()}};function SA(t,e,n,r={}){var i;let s=(t=wi(t,zs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=We.MOCK_USER;else{a=lb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(l)}t._authCredentials=new py(new pd(a,u))}}var Ei=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Vt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},kr=class t extends Ei{constructor(e,n,r){super(e,n,qC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function RA(t,e,...n){if(t=zt(t),AA("collection","path",e),t instanceof zs){let r=Me.fromString(e,...n);return MC(r),new kr(t,null,r)}{if(!(t instanceof Vt||t instanceof kr))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return MC(r),new kr(t.firestore,null,r)}}function d_(t,e,...n){if(t=zt(t),arguments.length===1&&(e=gd.newId()),AA("doc","path",e),t instanceof zs){let r=Me.fromString(e,...n);return RC(r),new Vt(t,null,new H(r))}{if(!(t instanceof Vt||t instanceof kr))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return RC(r),new Vt(t.firestore,t instanceof kr?t.converter:null,new H(r))}}var Uv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Rd(this,"async_queue_retry"),this.Eu=()=>{let n=dy();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=dy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=dy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new bn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return C(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!tc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Cv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&W()}verifyOperationInProgress(){}mu(){return C(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var Di=class extends zs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Uv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xA(this),this._firestoreClient.terminate()}};function MA(t,e){let n=typeof t=="object"?t:Ta(),r=typeof t=="string"?t:e||"(default)",i=Lm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=cb("firestore");s&&SA(i,...s)}return i}function NA(t){return t._firestoreClient||xA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Ey(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Vv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Qa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ct.fromBase64String(e))}catch(n){throw new L(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ya=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vd=class{constructor(e){this._methodName=e}};var Ja=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var Za=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var cB=/^__.*__$/,jv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ii(e,this.data,n,this.fieldTransforms)}};function PA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var Bv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Ud(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(PA(this.wu)&&cB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},$v=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gd(e)}Nu(e,n,r,i=!1){return new Bv({wu:e,methodName:n,Ou:r,path:Lt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function h_(t){let e=t._freezeSettings(),n=Gd(t._databaseId);return new $v(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OA(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);LA("Data must be an object, but it was:",o,r);let a=kA(r,o),u,l;if(s.merge)u=new Tn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=lB(e,p,n);if(!o.contains(m))throw new L(R.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);hB(h,m)||h.push(m)}u=new Tn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new jv(new sn(a),u,l)}function uB(t,e,n,r=!1){return f_(n,t.Nu(r?4:3,e))}function f_(t,e){if(FA(t=zt(t)))return LA("Unsupported field value:",e,t),kA(t,e);if(t instanceof Vd)return function(r,i){if(!PA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=f_(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ze.fromDate(r);return{timestampValue:bd(i.serializer,s)}}if(r instanceof Ze){let s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bd(i.serializer,s)}}if(r instanceof Ja)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qa)return{bytesValue:iA(i.serializer,r._byteString)};if(r instanceof Vt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:r_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Za)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return n_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Qd(r)}`)}(t,e)}function kA(t,e){let n={};return OC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(r,i)=>{let s=f_(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Ja||t instanceof Qa||t instanceof Vt||t instanceof Vd||t instanceof Za)}function LA(t,e,n){if(!FA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Qd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function lB(t,e,n){if((e=zt(e))instanceof Ya)return e._internalPath;if(typeof e=="string")return VA(t,e);throw Ud("Field path arguments must be of type string or ",t,!1,void 0,n)}var dB=new RegExp("[~\\*/\\[\\]]");function VA(t,e,n){if(e.search(dB)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ya(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ud(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(R.INVALID_ARGUMENT,a+t+u)}function hB(t,e){return t.some(n=>n.isEqual(e))}var jd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Yd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},qv=class extends jd{data(){return super.data()}};function Yd(t,e){return typeof e=="string"?VA(t,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}function fB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xa=class{},Bd=class extends Xa{};function UA(t,e,...n){let r=[];e instanceof Xa&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof Hv).length,a=s.filter(u=>u instanceof $d).length;if(o>1||o>0&&a>0)throw new L(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var $d=class t extends Bd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return $A(e._query,n),new Ei(e.firestore,e.converter,ky(e._query,n))}_parse(e){let n=h_(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){xC(p,h);let I=[];for(let S of p)I.push(NC(u,s,S));m={arrayValue:{values:I}}}else m=NC(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||xC(p,h),m=uB(a,o,p,h==="in"||h==="not-in");return Be.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function jA(t,e,n){let r=e,i=Yd("where",t);return $d._create(i,r,n)}var Hv=class t extends Xa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:an.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)$A(o,u),o=ky(o,u)}(e._query,n),new Ei(e.firestore,e.converter,ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var zv=class t extends Bd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yi(s,o)}(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Lr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function BA(t,e="asc"){let n=e,r=Yd("orderBy",t);return zv._create(r,n)}function NC(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HC(e)&&n.indexOf("/")!==-1)throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Me.fromString(n));if(!H.isDocumentKey(r))throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iC(t,new H(r))}if(n instanceof Vt)return iC(t,n._key);throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(n)}.`)}function xC(t,e){if(!Array.isArray(t)||t.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $A(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Gv=class{convertValue(e,n="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ws(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new Za(s)}convertGeoPoint(e){return new Ja(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Zv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){let n=Zn(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Me.fromString(e);Te(lA(r));let i=new _d(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function qA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var xs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wv=class extends jd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Yd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Os=class extends Wv{data(e={}){return super.data(e)}},Kv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Os(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:pB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function pB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}var Qv=class extends Gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}};function HA(t){t=wi(t,Ei);let e=wi(t.firestore,Di),n=NA(e),r=new Qv(e);return fB(t._query),oB(n,t._query).then(i=>new Kv(e,r,t,i))}function zA(t,e,n){t=wi(t,Vt);let r=wi(t.firestore,Di),i=qA(t.converter,e,n);return p_(r,[OA(h_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yn.none())])}function GA(t){return p_(wi(t.firestore,Di),[new Ha(t._key,Yn.none())])}function WA(t,e){let n=wi(t.firestore,Di),r=d_(t),i=qA(t.converter,e);return p_(n,[OA(h_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function p_(t,e){return function(r,i){let s=new bn;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return K2(yield iB(r),i,s)})),s.promise}(NA(t),e)}(function(e,n=!0){(function(i){Gs=i})(Ts),xr(new Gt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Di(new gy(r.getProvider("auth-internal")),new _y(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ge(eC,"4.7.2",e),Ge(eC,"4.7.2","esm2017")})();var bi=class{constructor(e){return e}},KA="firestore",g_=class{constructor(){return Ca(KA)}};var m_=new j("angularfire2.firestore-instances");function gB(t,e){let n=jm(KA,t,e);return n&&new bi(n)}function mB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new bi(r)}}var yB={provide:g_,deps:[[new jt,m_]]},vB={provide:bi,useFactory:gB,deps:[[new jt,m_],ui]};function QA(t,...e){return Ge("angularfire",Cs.full,"fst"),jn([vB,yB,{provide:m_,useFactory:mB(t),multi:!0,deps:[fe,st,Aa,Sa,[new jt,ad],[new jt,ba],...e]}])}var YA=_t(WA,!0);var ic=_t(RA,!0);var JA=_t(GA,!0);var y_=_t(d_,!0);var Jd=_t(HA,!0);var ZA=_t(MA,!0);var XA=_t(BA,!0);var Zd=_t(UA,!0);var eS=_t(zA,!0);var v_=_t(jA,!0);var Xd=(()=>{let e=class e{constructor(r){this.db=r,this.dbPath="/car-list"}getCars(){let r=Zd(ic(this.db,this.dbPath),XA("id"));return be(Jd(r)).pipe(ne(i=>i.docs.map(s=>({id:s.data().id,model:s.data().model,price:s.data().price,state:s.data().state}))))}addCar(r){return C(this,null,function*(){yield YA(ic(this.db,this.dbPath),k({},r))})}updateCar(r){return C(this,null,function*(){let i=Zd(ic(this.db,this.dbPath),v_("id","==",r.id));(yield Jd(i)).forEach(o=>C(this,null,function*(){let a=y_(this.db,this.dbPath,o.id);yield eS(a,{model:r.model,state:r.state,price:r.price},{merge:!0})}))})}deleteCar(r){return C(this,null,function*(){let i=Zd(ic(this.db,this.dbPath),v_("id","==",r));(yield Jd(i)).forEach(o=>C(this,null,function*(){yield JA(y_(this.db,this.dbPath,o.id))}))})}};e.\u0275fac=function(i){return new(i||e)(q(bi))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(J(wr),J(Bn))},e.\u0275dir=$e({type:e});let t=e;return t})(),dS=(()=>{let e=class e extends lS{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ri(e)))(s||e)}})(),e.\u0275dir=$e({type:e,features:[gn]});let t=e;return t})(),I_=new j("");var IB={provide:I_,useExisting:yr(()=>oh),multi:!0};function wB(){let t=yn()?yn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var EB=new j(""),oh=(()=>{let e=class e extends lS{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!wB())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(J(wr),J(Bn),J(EB,8))},e.\u0275dir=$e({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Pt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[us([IB]),gn]});let t=e;return t})();function DB(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var w_=new j(""),hS=new j("");function TB(t){return DB(t.value)?{required:!0}:null}function nS(t){return null}function fS(t){return t!=null}function pS(t){return Dr(t)?be(t):t}function gS(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function mS(t,e){return e.map(n=>n(t))}function bB(t){return!t.validate}function yS(t){return t.map(e=>bB(e)?e:n=>e.validate(n))}function CB(t){if(!t)return null;let e=t.filter(fS);return e.length==0?null:function(n){return gS(mS(n,e))}}function E_(t){return t!=null?CB(yS(t)):null}function AB(t){if(!t)return null;let e=t.filter(fS);return e.length==0?null:function(n){let r=mS(n,e).map(pS);return Zh(r).pipe(ne(gS))}}function D_(t){return t!=null?AB(yS(t)):null}function rS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function SB(t){return t._rawValidators}function RB(t){return t._rawAsyncValidators}function __(t){return t?Array.isArray(t)?t:[t]:[]}function th(t,e){return Array.isArray(t)?t.includes(e):t===e}function iS(t,e){let n=__(e);return __(t).forEach(i=>{th(n,i)||n.push(i)}),n}function sS(t,e){return __(e).filter(n=>!th(t,n))}var nh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=E_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=D_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ys=class extends nh{get formDirective(){return null}get path(){return null}},cc=class extends nh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},MB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},q8=Ie(k({},MB),{"[class.ng-submitted]":"isSubmitted"}),vS=(()=>{let e=class e extends rh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(cc,2))},e.\u0275dir=$e({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&il("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[gn]});let t=e;return t})(),_S=(()=>{let e=class e extends rh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(Ys,10))},e.\u0275dir=$e({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&il("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[gn]});let t=e;return t})();var sc="VALID",eh="INVALID",Qs="PENDING",oc="DISABLED";function IS(t){return(ah(t)?t.validators:t)||null}function NB(t){return Array.isArray(t)?E_(t):t||null}function wS(t,e){return(ah(e)?e.asyncValidators:t)||null}function xB(t){return Array.isArray(t)?D_(t):t||null}function ah(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function PB(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function OB(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var ih=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sc}get invalid(){return this.status===eh}get pending(){return this.status==Qs}get disabled(){return this.status===oc}get enabled(){return this.status!==oc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(iS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sS(e,this._rawAsyncValidators))}hasValidator(e){return th(this._rawValidators,e)}hasAsyncValidator(e){return th(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=oc,this.errors=null,this._forEachChild(r=>{r.disable(Ie(k({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(k({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=sc,this._forEachChild(r=>{r.enable(Ie(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(k({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sc||this.status===Qs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oc:sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qs,this._hasOwnPendingAsyncValidator=!0;let n=pS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?oc:this.errors?eh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qs)?Qs:this._anyControlsHaveStatus(eh)?eh:sc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ah(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=NB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xB(this._rawAsyncValidators)}},sh=class extends ih{constructor(e,n,r){super(IS(n),wS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){OB(this,!0,e),Object.keys(e).forEach(r=>{PB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var T_=new j("CallSetDisabledState",{providedIn:"root",factory:()=>b_}),b_="always";function kB(t,e){return[...e.path,t]}function ES(t,e,n=b_){DS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),LB(t,e),UB(t,e),VB(t,e),FB(t,e)}function oS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function FB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function DS(t,e){let n=SB(t);e.validator!==null?t.setValidators(rS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=RB(t);e.asyncValidator!==null?t.setAsyncValidators(rS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();oS(e._rawValidators,i),oS(e._rawAsyncValidators,i)}function LB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&TS(t,e)})}function VB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&TS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function TS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function UB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jB(t,e){t==null,DS(t,e)}function BB(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function $B(t){return Object.getPrototypeOf(t.constructor)===dS}function qB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function HB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===oh?n=s:$B(s)?r=s:i=s}),i||r||n||null}var zB={provide:Ys,useExisting:yr(()=>C_)},ac=Promise.resolve(),C_=(()=>{let e=class e extends Ys{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ve,this.form=new sh({},E_(r),D_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ac.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),ES(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ac.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ac.then(()=>{let i=this._findContainer(r.path),s=new sh({});jB(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ac.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ac.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,qB(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(J(w_,10),J(hS,10),J(T_,8))},e.\u0275dir=$e({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Pt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[Ye.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[us([zB]),gn]});let t=e;return t})();function aS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var GB=class extends ih{constructor(e=null,n,r){super(IS(n),wS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ah(n)&&(n.nonNullable||n.initialValueIsDefault)&&(cS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){cS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var WB={provide:cc,useExisting:yr(()=>A_)},uS=Promise.resolve(),A_=(()=>{let e=class e extends cc{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new GB,this._registered=!1,this.name="",this.update=new Ve,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=HB(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),BB(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ES(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){uS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&br(i);uS.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?kB(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(J(Ys,9),J(w_,10),J(hS,10),J(I_,10),J(Tr,8),J(T_,8))},e.\u0275dir=$e({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ye.None,"disabled","isDisabled"],model:[Ye.None,"ngModel","model"],options:[Ye.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[us([WB]),gn,vr]});let t=e;return t})(),bS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=$e({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),KB={provide:I_,useExisting:yr(()=>S_),multi:!0},S_=(()=>{let e=class e extends dS{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ri(e)))(s||e)}})(),e.\u0275dir=$e({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&Pt("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[us([KB]),gn]});let t=e;return t})();var QB=(()=>{let e=class e{constructor(){this._validator=nS}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):nS,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=$e({type:e,features:[vr]});let t=e;return t})();var YB={provide:w_,useExisting:yr(()=>R_),multi:!0};var R_=(()=>{let e=class e extends QB{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=br,this.createValidator=r=>TB}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ri(e)))(s||e)}})(),e.\u0275dir=$e({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&qo("required",s._enabled?"":null)},inputs:{required:"required"},features:[us([YB]),gn]});let t=e;return t})();var JB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e}),e.\u0275inj=qe({});let t=e;return t})();var ch=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:T_,useValue:r.callSetDisabledState??b_}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e}),e.\u0275inj=qe({imports:[JB]});let t=e;return t})();var XB=(t,e)=>({"btn-primary":t,"btn-secondary":e});function e$(t,e){if(t&1){let n=Ho();we(0,"li"),Re(1),we(2,"button",10),Pt("click",function(){let i=ss(n).$implicit,s=Er();return os(s.onEdit(i))}),Re(3," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),_e(),we(4,"button",11),Pt("click",function(){let i=ss(n).$implicit,s=Er();return os(s.onDelete(i))}),Re(5," \u0423\u0434\u0430\u043B\u0438\u0442\u044C "),_e()()}if(t&2){let n=e.$implicit,r=Er();xt(),zo(" ",n.model," - ",n.state," - $",n.price," "),xt(),Xp("id","edit-button-",n.id,""),mn("ngClass",E0(6,XB,r.activeEditButtonId===n.id,r.activeEditButtonId!==n.id))}}var CS=(()=>{let e=class e{constructor(r){this.carService=r,this.cars$=$([]),this.selectedCar=null,this.activeEditButtonId=null,this.loading=!0,this.error=null}ngOnInit(){this.loadCars()}loadCars(){this.cars$=this.carService.getCars(),this.cars$.subscribe({next:()=>{this.loading=!1},error:r=>{this.error="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0438.",console.error(r),this.loading=!1}})}onSubmit(r){return C(this,null,function*(){if(r.invalid)return;let i=yield this.carService.getCars().toPromise();if(i){if(this.selectedCar)yield this.carService.updateCar(k({id:this.selectedCar.id},r.value));else{let s=i.length>0?Math.max(...i.map(o=>o.id))+1:1;yield this.carService.addCar(k({id:s},r.value))}this.loadCars(),r.reset(),this.selectedCar=null}})}onDelete(r){return C(this,null,function*(){yield this.carService.deleteCar(r.id),this.loadCars(),this.activeEditButtonId===r.id&&(this.activeEditButtonId=null)})}onEdit(r){this.activeEditButtonId===r.id?(this.activeEditButtonId=null,this.selectedCar=null):(this.selectedCar=k({},r),this.activeEditButtonId=r.id)}};e.\u0275fac=function(i){return new(i||e)(J(Xd))},e.\u0275cmp=Bt({type:e,selectors:[["app-car-form"]],decls:21,vars:4,consts:[["carForm","ngForm"],[3,"ngSubmit"],["for","model"],["type","text","id","model","name","model","ngModel","","required",""],["for","state"],["type","text","id","state","name","state","ngModel","","required",""],["for","price"],["type","number","id","price","name","price","ngModel","","required",""],["type","submit"],[4,"ngFor","ngForOf"],[1,"edit-button",3,"click","id","ngClass"],[1,"delete-button",3,"click"]],template:function(i,s){if(i&1){let o=Ho();we(0,"form",1,0),Pt("ngSubmit",function(){ss(o);let u=v0(1);return os(s.onSubmit(u))}),we(2,"div")(3,"label",2),Re(4,"\u041C\u043E\u0434\u0435\u043B\u044C:"),_e(),rn(5,"input",3),_e(),we(6,"div")(7,"label",4),Re(8,"\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:"),_e(),rn(9,"input",5),_e(),we(10,"div")(11,"label",6),Re(12,"\u0426\u0435\u043D\u0430:"),_e(),rn(13,"input",7),_e(),we(14,"button",8),Re(15),_e()(),we(16,"h3"),Re(17,"\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435\u0439"),_e(),we(18,"ul"),$n(19,e$,6,9,"li",9),Go(20,"async"),_e()}i&2&&(xt(15),eg(s.selectedCar?"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"),xt(4),mn("ngForOf",Wo(20,2,s.cars$)))},dependencies:[z0,fl,bS,oh,S_,vS,_S,R_,A_,C_,gl],encapsulation:2});let t=e;return t})();function t$(t,e){if(t&1){let n=Ho();we(0,"li",2),Pt("click",function(){let i=ss(n).$implicit,s=Er();return os(s.viewDetails(i.id))}),Re(1),_e()}if(t&2){let n=e.$implicit;xt(),zo(" ",n.model," - ",n.state," - $",n.price," ")}}function n$(t,e){t&1&&(we(0,"div")(1,"p"),Re(2,"\u041D\u0435\u0442 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435\u0439 \u0434\u043B\u044F \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F."),_e()())}function r$(t,e){t&1&&(we(0,"div")(1,"p"),Re(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435\u0439..."),_e()())}var AS=(()=>{let e=class e{constructor(r,i){this.carService=r,this.router=i,this.cars$=$([]),this.loading=!0,this.error=null}ngOnInit(){this.loadCars()}loadCars(){this.cars$=this.carService.getCars(),this.cars$.subscribe({next:()=>{this.loading=!1},error:r=>{this.error="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0438.",console.error(r),this.loading=!1}})}viewDetails(r){this.router.navigate(["/details",r])}};e.\u0275fac=function(i){return new(i||e)(J(Xd),J(wn))},e.\u0275cmp=Bt({type:e,selectors:[["app-car-list"]],decls:6,vars:7,consts:[[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"]],template:function(i,s){if(i&1&&(we(0,"ul"),$n(1,t$,2,3,"li",0),Go(2,"async"),_e(),$n(3,n$,3,0,"div",1),Go(4,"async"),$n(5,r$,3,0,"div",1)),i&2){let o;xt(),mn("ngForOf",Wo(2,3,s.cars$)),xt(2),mn("ngIf",((o=Wo(4,5,s.cars$))==null?null:o.length)===0&&!s.loading),xt(2),mn("ngIf",s.loading)}},dependencies:[fl,pl,gl],encapsulation:2});let t=e;return t})();var i$=[{path:"",component:ql,children:[{path:"",component:AS}]},{path:"car-form",component:CS}],SS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e}),e.\u0275inj=qe({imports:[ws.forRoot(i$),ws]});let t=e;return t})();var RS=(()=>{let e=class e{constructor(){this.title="car-rental"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["app-root"]],decls:12,vars:0,consts:[[1,"jumbotron"],[1,"display-4"],[1,"lead"],["routerLink","/"],["routerLink","/car-form"]],template:function(i,s){i&1&&(we(0,"div",0)(1,"h1",1),Re(2,"\u041F\u0440\u043E\u043A\u0430\u0442 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435\u0439"),_e(),we(3,"p",2),Re(4,"\u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C \u0432 \u043D\u0430\u0448 \u0441\u0435\u0440\u0432\u0438\u0441 \u043F\u0440\u043E\u043A\u0430\u0442\u0430 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435\u0439. \u0417\u0434\u0435\u0441\u044C \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043D\u0430\u0439\u0442\u0438 \u0438 \u0430\u0440\u0435\u043D\u0434\u043E\u0432\u0430\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0438 \u043D\u0430 \u043B\u044E\u0431\u043E\u0439 \u0432\u043A\u0443\u0441."),_e()(),we(5,"nav")(6,"a",3),Re(7,"\u0413\u043B\u0430\u0432\u043D\u0430\u044F"),_e(),we(8,"a",4),Re(9,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C"),_e()(),rn(10,"router-outlet")(11,"router-outlet"))},dependencies:[ma,eb]});let t=e;return t})();var MS=[{id:1,model:"BMW",state:"good",price:123},{id:2,model:"Audi",state:"excellent",price:200},{id:3,model:"Mercedes",state:"average",price:150}];function s$(t,e){if(t&1&&(we(0,"div")(1,"h2"),Re(2),_e(),we(3,"p"),Re(4),_e()()),t&2){let n=Er();xt(2),tg("",n.car.model," - ",n.car.state,""),xt(2),sl("\u0426\u0435\u043D\u0430: $",n.car.price,"")}}var NS=(()=>{let e=class e{constructor(r){this.route=r}ngOnInit(){let r=+this.route.snapshot.paramMap.get("id");this.car=MS.find(i=>i.id===r)}};e.\u0275fac=function(i){return new(i||e)(J(Gn))},e.\u0275cmp=Bt({type:e,selectors:[["app-car-details"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(i,s){i&1&&$n(0,s$,5,3,"div",0),i&2&&mn("ngIf",s.car)},dependencies:[pl],encapsulation:2});let t=e;return t})();var o$=[{path:"",component:ql,children:[{path:"details/:id",component:NS}]}],xS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e}),e.\u0275inj=qe({imports:[ws.forChild(o$),ws]});let t=e;return t})();var PS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e}),e.\u0275inj=qe({imports:[ml,xS,ch]});let t=e;return t})();var OS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e,bootstrap:[RS]}),e.\u0275inj=qe({providers:[fT(),xb(()=>Pb({projectId:"newproject-6dba8",appId:"1:997730581161:web:d14c2a4a5162a6019087b8",storageBucket:"newproject-6dba8.appspot.com",apiKey:"AIzaSyBvJCYiXVgKXAdWBXBf_LjvlYoD2GIEtOI",authDomain:"newproject-6dba8.firebaseapp.com",messagingSenderId:"997730581161"})),QA(()=>ZA())],imports:[dT,SS,ch,PS]});let t=e;return t})();lT().bootstrapModule(OS).catch(t=>console.error(t));
